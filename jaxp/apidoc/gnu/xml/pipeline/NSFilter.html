<?xml version="1.0" encoding="null"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>NSFilter</title><meta http-equiv="Content-Type" content="text/html; charset=null"/></head><body><table class="navbar div top"><tr><td><div><span class="navbar item enabled"><a href="../../..//index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <a href="../../..//alphaindex.html">Index</a> <a href="../../..//deprecated.html">Deprecated</a> <a href="../../..//help.html">Help</a> <a href="../../..//about.html">About</a></div></td></tr></table><div><h3>gnu.xml.pipeline</h3><h1>Class NSFilter</h1><hr/><div><div>public class NSFilter</div><div>extends <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><hr/><div> This filter ensures that element and attribute names are properly prefixed,
 and that such prefixes are declared.  Such data is critical for operations
 like writing XML text, and validating against DTDs:  names or their prefixes
 may have been discarded, although they are essential to the exchange of
 information using XML.  There are various common ways that such data
 gets discarded: <ul>

	<li> By default, SAX2 parsers must discard the "xmlns*"
	attributes, and may also choose not to report properly prefixed
	names for elements or attributes.  (Some parsers may support
	changing the <em>namespace-prefixes</em> value from the default
	to <em>true</em>, effectively eliminating the need to use this
	filter on their output.)

	</li><li> When event streams are generated from a DOM tree, they may
	have never have had prefixes or declarations for namespaces; or
	the existing prefixes or declarations may have been invalidated
	by structural modifications to that DOM tree.

	</li><li> Other software writing SAX event streams won't necessarily
	be worrying about prefix management, and so they will need to
	have a transparent solution for managing them.

	</li></ul>

 <p/> This filter uses a heuristic to choose the prefix to assign to any
 particular name which wasn't already corectly prefixed.  The associated
 namespace will be correct, and the prefix will be declared.  Original
 structures facilitating text editing, such as conventions about use of
 mnemonic prefix names or the scoping of prefixes, can't always be
 reconstructed after they are discarded, as strongly encouraged by the
 current SAX2 defaults.

 <p/> Note that this can't possibly know whether values inside attribute
 value or document content involve prefixed names.  If your application
 requires using prefixed names in such locations you'll need to add some
 appropriate logic (perhaps adding additional heuristics in a subclass).
</div><dl class="tag list"><dt class="tag section header"><b>Author:</b></dt><dd class="tag item">David Brownell</dd></dl><table class="class summary"><tr><td colspan="2"><h4>Constructor Summary</h4></td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#NSFilter(gnu.xml.pipeline.EventConsumer)">NSFilter</a>(<a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a> next)</td></tr><tr><td></td><td> Passes events through to the specified consumer, after first
 processing them.</td></tr></table><table class="class summary"><tr><td colspan="2"><h4>Method Summary</h4></td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#endDocument()">endDocument</a>()</td></tr><tr><td></td><td></td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#endElement(String,String,String)">endElement</a>(String uri, String localName, String qName)</td></tr><tr><td></td><td></td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#endPrefixMapping(String)">endPrefixMapping</a>(String prefix)</td></tr><tr><td></td><td> This call is not passed to the next consumer in the chain.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#startDocument()">startDocument</a>()</td></tr><tr><td></td><td></td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#startElement(String,String,String,org.xml.sax.Attributes)">startElement</a>(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts)</td></tr><tr><td></td><td></td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#startPrefixMapping(String,String)">startPrefixMapping</a>(String prefix, String uri)</td></tr><tr><td></td><td> This call is not passed to the next consumer in the chain.</td></tr></table><table class="class summary"><tr><td colspan="2"><h4>Methods inherited from gnu.xml.pipeline.EventFilter</h4></td></tr><tr><td><a href="../../..//gnu/xml/pipeline/EventFilter.html#attributeDecl(String,String,String,String,String)">attributeDecl</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#bind(org.xml.sax.XMLReader,gnu.xml.pipeline.EventConsumer)">bind</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#chainTo(org.xml.sax.helpers.XMLFilterImpl)">chainTo</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#characters(ch[],int,int)">characters</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#comment(ch[],int,int)">comment</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#elementDecl(String,String)">elementDecl</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#endCDATA()">endCDATA</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#endDTD()">endDTD</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#endDocument()">endDocument</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#endElement(String,String,String)">endElement</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#endEntity(String)">endEntity</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#endPrefixMapping(String)">endPrefixMapping</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#externalEntityDecl(String,String,String)">externalEntityDecl</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#getContentHandler()">getContentHandler</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#getDTDHandler()">getDTDHandler</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#getDocumentLocator()">getDocumentLocator</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#getErrorHandler()">getErrorHandler</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#getNext()">getNext</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#getProperty(String)">getProperty</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#ignorableWhitespace(ch[],int,int)">ignorableWhitespace</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#internalEntityDecl(String,String)">internalEntityDecl</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#notationDecl(String,String,String)">notationDecl</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#processingInstruction(String,String)">processingInstruction</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#setContentHandler(org.xml.sax.ContentHandler)">setContentHandler</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#setDTDHandler(org.xml.sax.DTDHandler)">setDTDHandler</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#setDocumentLocator(org.xml.sax.Locator)">setDocumentLocator</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#setErrorHandler(org.xml.sax.ErrorHandler)">setErrorHandler</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#setProperty(String,Object)">setProperty</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#skippedEntity(String)">skippedEntity</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#startCDATA()">startCDATA</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#startDTD(String,String,String)">startDTD</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#startDocument()">startDocument</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#startElement(String,String,String,org.xml.sax.Attributes)">startElement</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#startEntity(String)">startEntity</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#startPrefixMapping(String,String)">startPrefixMapping</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#unparsedEntityDecl(String,String,String,String)">unparsedEntityDecl</a>, <a href="../../..//gnu/xml/pipeline/EventFilter.html#xmlDecl(String,String,boolean,String)">xmlDecl</a></td></tr></table><h4>Constructor Details</h4><a name="NSFilter(gnu.xml.pipeline.EventConsumer)"/><div><h3>NSFilter</h3><p>public NSFilter(<a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a> next)</p><div> Passes events through to the specified consumer, after first
 processing them.
</div><div><h4>Parameters:</h4><div>next - the next event consumer to receive events.</div></div></div><h4>Method Details</h4><a name="endDocument()"/><div><h3>endDocument</h3><p>public void endDocument()</p><div></div><div><h4>Specified by:</h4><div>endDocument in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Overrides:</h4><div>endDocument in interface <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endElement(String,String,String)"/><div><h3>endElement</h3><p>public void endElement(String uri, String localName, String qName)</p><div></div><div><h4>Specified by:</h4><div>endElement in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Overrides:</h4><div>endElement in interface <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endPrefixMapping(String)"/><div><h3>endPrefixMapping</h3><p>public void endPrefixMapping(String prefix)</p><div> This call is not passed to the next consumer in the chain.
 Prefix declarations and scopes are only exposed in their
 attribute form.
</div><div><h4>Specified by:</h4><div>endPrefixMapping in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Overrides:</h4><div>endPrefixMapping in interface <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><div><h4>Parameters:</h4><div>prefix</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startDocument()"/><div><h3>startDocument</h3><p>public void startDocument()</p><div></div><div><h4>Specified by:</h4><div>startDocument in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Overrides:</h4><div>startDocument in interface <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startElement(String,String,String,org.xml.sax.Attributes)"/><div><h3>startElement</h3><p>public void startElement(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts)</p><div></div><div><h4>Specified by:</h4><div>startElement in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Overrides:</h4><div>startElement in interface <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div><div>atts</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startPrefixMapping(String,String)"/><div><h3>startPrefixMapping</h3><p>public void startPrefixMapping(String prefix, String uri)</p><div> This call is not passed to the next consumer in the chain.
 Prefix declarations and scopes are only exposed in the form
 of attributes; this callback just records a declaration that
 will be exposed as an attribute.
</div><div><h4>Specified by:</h4><div>startPrefixMapping in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Overrides:</h4><div>startPrefixMapping in interface <a href="../../..//gnu/xml/pipeline/EventFilter.html">EventFilter</a></div></div><div><h4>Parameters:</h4><div>prefix</div><div>uri</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><p> </p><table class="navbar div bottom"><tr><td><div><span class="navbar item enabled"><a href="../../..//index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <a href="../../..//alphaindex.html">Index</a> <a href="../../..//deprecated.html">Deprecated</a> <a href="../../..//help.html">Help</a> <a href="../../..//about.html">About</a></div></td></tr></table></body></html>