<html xmlns="http://www.w3.org/TR/REC-html40" xmlns:html="http://www.w3.org/TR/REC-html40" xmlns:gjdoc="http://www.gnu.org/software/cp-tools/gjdocxml"><head><link href="../../../gjdochtml.css" type="text/css" rel="stylesheet"/><title>DomConsumer</title></head><body onload="top.document.title=document.title;" class="classdoc"><div class="header"><span class="navi-button">&rArr;&nbsp;<a target="_top" href="../../../index.html">Index&nbsp;(Frames)</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a target="_top" href="../../../index_noframes.html">Index&nbsp;(No&nbsp;Frames)</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a href="package-summary.html">Package</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a href="package-tree.html">Package&nbsp;Tree</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a href="../../../fulltree.html">Full Tree</a></span>&nbsp;
    </div><div class="classdoc-head"><div class="classdoc-head-inner"><b class="classdoc-head-packagename">gnu.xml.pipeline</b><br/><h1 class="classdoc-head-classname">Class DomConsumer</h1></div></div><pre class="inheritance-tree">java.lang.Object
|
+--gnu.xml.pipeline.DomConsumer
</pre><p/><b>All Implemented Interfaces:</b><br/><a href="../../../gnu/xml/pipeline/EventConsumer.html">EventConsumer</a><p/><b>Known Direct Subclasses:</b><br/><a href="../../../gnu/xml/dom/Consumer.html">Consumer</a><hr/><div class="classdoc-prototype">public class <b>DomConsumer</b><br/>extends java.lang.Object<br/>implements <a href="../../../gnu/xml/pipeline/EventConsumer.html">EventConsumer</a></div><p/><div class="classdoc-class-comment-body"> This consumer builds a DOM Document from its input, acting either as a
 pipeline terminus or as an intermediate buffer.  When a document's worth
 of events has been delivered to this consumer, that document is read with
 a <a href="../../../gnu/xml/util/DomParser.html">DomParser</a> and sent to the next consumer.  It is also available
 as a read-once property.

 <p/>The DOM tree is constructed as faithfully as possible.  There are some
 complications since a DOM should expose behaviors that can't be implemented
 without API backdoors into that DOM, and because some SAX parsers don't
 report all the information that DOM permits to be exposed.  The general
 problem areas involve information from the Document Type Declaration (DTD).
 DOM only represents a limited subset, but has some behaviors that depend
 on much deeper knowledge of a document's DTD.  You shouldn't have much to
 worry about unless you change handling of "noise" nodes from its default
 setting (which ignores them all); note if you use JAXP to populate your
 DOM trees, it wants to save "noise" nodes by default.  (Such nodes include
 ignorable whitespace, comments, entity references and CDATA boundaries.)
 Otherwise, your
 main worry will be if you use a SAX parser that doesn't flag ignorable
 whitespace unless it's validating (few don't).

 <p/> The SAX2 events used as input must contain XML Names for elements
 and attributes, with original prefixes.  In SAX2,
 this is optional unless the "namespace-prefixes" parser feature is set.
 Moreover, many application components won't provide completely correct
 structures anyway.  <em>Before you convert a DOM to an output document,
 you should plan to postprocess it to create or repair such namespace
 information.</em> The <a href="../../../gnu/xml/pipeline/NSFilter.html">NSFilter</a> pipeline stage does such work.

 <p/><em>Note:  changes late in DOM L2 process made it impractical to
 attempt to create the DocumentType node in any implementation-neutral way,
 much less to populate it (L1 didn't support even creating such nodes).
 To create and populate such a node, subclass the inner
</em><a href="../../../gnu/xml/pipeline/DomConsumer/Handler.html">DomConsumer.Handler</a> class and teach it about the backdoors into
  whatever DOM implementation you want.  It's possible that some revised
 DOM API (L3?) will make this problem solvable again. 
</div><div class="classdoc-tag-section-header">Author:</div><dl class="classdoc-list"><dt>David Brownell</dt></dl><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="../../../gnu/xml/util/DomParser.html">DomParser

</a></code></dt></dl><h1 class="classdoc-header">Constructor Summary</h1><table class="classdoc-table" width="100%" cellspacing="0" border="1"><tr><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#DomConsumer(Class)">DomConsumer</a>(<span class="parameter">Class&nbsp;impl</span>)</p><blockquote class="classdoc-summary-comment"> Configures this pipeline terminus to use the specified implementation
 of DOM when constructing its result value.</blockquote></td></tr><tr><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#DomConsumer(Class,gnu.xml.pipeline.EventConsumer)">DomConsumer</a>(<span class="parameter">Class&nbsp;impl,</span> <span class="parameter"><a href="../../../gnu/xml/pipeline/EventConsumer.html">EventConsumer</a>&nbsp;n</span>)</p><blockquote class="classdoc-summary-comment"> Configures this consumer as a buffer/filter, using the specified
 DOM implementation when constructing its result value.</blockquote></td></tr></table><h1 class="classdoc-header">Method Summary</h1><table class="classdoc-table" width="100%" cellspacing="0" border="1"><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> <a href="../../../org/xml/sax/ContentHandler.html">ContentHandler</a></p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#getContentHandler()">getContentHandler</a>()</p><blockquote class="classdoc-summary-comment">Returns the document handler being used.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> <a href="../../../org/w3c/dom/Document.html">Document</a></p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#getDocument()">getDocument</a>()</p><blockquote class="classdoc-summary-comment"> Returns the document constructed from the preceding
 sequence of events.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> <a href="../../../org/xml/sax/DTDHandler.html">DTDHandler</a></p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#getDTDHandler()">getDTDHandler</a>()</p><blockquote class="classdoc-summary-comment">Returns the DTD handler being used.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> Object</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#getProperty(String)">getProperty</a>(<span class="parameter">String&nbsp;id</span>)</p><blockquote class="classdoc-summary-comment"> Returns the lexical handler being used.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#isHidingCDATA()">isHidingCDATA</a>()</p><blockquote class="classdoc-summary-comment"> Returns true if the consumer is saving CDATA boundaries, or
 false (the default) otherwise.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#isHidingComments()">isHidingComments</a>()</p><blockquote class="classdoc-summary-comment"> Returns true if the consumer is hiding comments (the default),
 and false if they should be placed into the output document.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#isHidingReferences()">isHidingReferences</a>()</p><blockquote class="classdoc-summary-comment"> Returns true if the consumer is hiding entity references nodes
 (the default), and false if EntityReference nodes should
 instead be created.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#isHidingWhitespace()">isHidingWhitespace</a>()</p><blockquote class="classdoc-summary-comment"> Returns true if the consumer is hiding ignorable whitespace
 (the default), and false if such whitespace should be placed
 into the output document as children of element nodes.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setErrorHandler(org.xml.sax.ErrorHandler)">setErrorHandler</a>(<span class="parameter"><a href="../../../org/xml/sax/ErrorHandler.html">ErrorHandler</a>&nbsp;handler</span>)</p><blockquote class="classdoc-summary-comment"/></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setHandler(gnu.xml.pipeline.DomConsumer.Handler)">setHandler</a>(<span class="parameter"><a href="../../../gnu/xml/pipeline/DomConsumer.Handler.html">DomConsumer.Handler</a>&nbsp;h</span>)</p><blockquote class="classdoc-summary-comment"> This is the hook through which a subclass provides a handler
 which knows how to access DOM extensions, specific to some
 implementation, to record additional data in a DOM.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setHidingCDATA(boolean)">setHidingCDATA</a>(<span class="parameter">boolean&nbsp;flag</span>)</p><blockquote class="classdoc-summary-comment"> Controls whether the consumer will save CDATA boundaries.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setHidingComments(boolean)">setHidingComments</a>(<span class="parameter">boolean&nbsp;flag</span>)</p><blockquote class="classdoc-summary-comment"> Controls whether the consumer is hiding comments.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setHidingReferences(boolean)">setHidingReferences</a>(<span class="parameter">boolean&nbsp;flag</span>)</p><blockquote class="classdoc-summary-comment"> Controls whether the consumer will hide entity expansions,
 or will instead mark them with entity reference nodes.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setHidingWhitespace(boolean)">setHidingWhitespace</a>(<span class="parameter">boolean&nbsp;flag</span>)</p><blockquote class="classdoc-summary-comment"> Controls whether the consumer hides ignorable whitespace
</blockquote></td></tr></table><h1 class="classdoc-header">Constructor Details</h1><a name="DomConsumer(Class,gnu.xml.pipeline.EventConsumer)"/><h3>DomConsumer</h3><p class="prototype">public  <b>DomConsumer</b>(<span class="parameter">Class&nbsp;impl,</span> <span class="parameter"><a href="../../../gnu/xml/pipeline/EventConsumer.html">EventConsumer</a>&nbsp;n</span>)</p><div class="classdoc-comment-body"> Configures this consumer as a buffer/filter, using the specified
 DOM implementation when constructing its result value.

 <p/> This event consumer acts as a buffer and filter, in that it
 builds a DOM tree and then writes it out when <em>endDocument</em>
 is invoked.  Because of the limitations of DOM, much information
 will as a rule not be seen in that replay.  To get a full fidelity
 copy of the input event stream, use a <a href="../../../gnu/xml/pipeline/TeeConsumer.html">TeeConsumer</a>.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">impl</span> - class implementing org.w3c.dom.Document Document
which publicly exposes a default constructor</dt><dt><span class="prototype-name">n</span> - receives a "replayed" sequence of parse events when
the endDocument method is invoked.</dt></dl><div class="classdoc-tag-section-header">Throws:</div><dl class="classdoc-list"><dt><code><a href="../../../org/xml/sax/SAXException.html">SAXException</a></code> - when there is a problem creating an
empty DOM document using the specified DOM implementation</dt></dl><hr/><a name="DomConsumer(Class)"/><h3>DomConsumer</h3><p class="prototype">public  <b>DomConsumer</b>(<span class="parameter">Class&nbsp;impl</span>)</p><div class="classdoc-comment-body"> Configures this pipeline terminus to use the specified implementation
 of DOM when constructing its result value.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">impl</span> - class implementing org.w3c.dom.Document Document
which publicly exposes a default constructor</dt></dl><div class="classdoc-tag-section-header">Throws:</div><dl class="classdoc-list"><dt><code><a href="../../../org/xml/sax/SAXException.html">SAXException</a></code> - when there is a problem creating an
empty DOM document using the specified implementation</dt></dl><h1 class="classdoc-header">Method Details</h1><a name="getContentHandler()"/><h3>getContentHandler</h3><p class="prototype">public final ContentHandler <b>getContentHandler</b>()</p><div class="classdoc-comment-body">Returns the document handler being used. </div><p/><hr/><a name="getDocument()"/><h3>getDocument</h3><p class="prototype">public final Document <b>getDocument</b>()</p><div class="classdoc-comment-body"> Returns the document constructed from the preceding
 sequence of events.  This method should not be
 used again until another sequence of events has been
 given to this EventConsumer.  
</div><p/><hr/><a name="getDTDHandler()"/><h3>getDTDHandler</h3><p class="prototype">public final DTDHandler <b>getDTDHandler</b>()</p><div class="classdoc-comment-body">Returns the DTD handler being used. </div><p/><hr/><a name="getProperty(String)"/><h3>getProperty</h3><p class="prototype">public final Object <b>getProperty</b>(<span class="parameter">String&nbsp;id</span>)</p><div class="classdoc-comment-body"> Returns the lexical handler being used.
 (DOM construction can't really use declaration handlers.)
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">id</span></dt></dl><hr/><a name="isHidingCDATA()"/><h3>isHidingCDATA</h3><p class="prototype">public final boolean <b>isHidingCDATA</b>()</p><div class="classdoc-comment-body"> Returns true if the consumer is saving CDATA boundaries, or
 false (the default) otherwise.
</div><p/><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#setHidingCDATA
">setHidingCDATA</a></code></dt></dl><hr/><a name="isHidingComments()"/><h3>isHidingComments</h3><p class="prototype">public final boolean <b>isHidingComments</b>()</p><div class="classdoc-comment-body"> Returns true if the consumer is hiding comments (the default),
 and false if they should be placed into the output document.
</div><p/><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#setHidingComments
">setHidingComments</a></code></dt></dl><hr/><a name="isHidingReferences()"/><h3>isHidingReferences</h3><p class="prototype">public final boolean <b>isHidingReferences</b>()</p><div class="classdoc-comment-body"> Returns true if the consumer is hiding entity references nodes
 (the default), and false if EntityReference nodes should
 instead be created.  Such EntityReference nodes will normally be
 empty, unless an implementation arranges to populate them and then
 turn them back into readonly objects.
</div><p/><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#setHidingReferences
">setHidingReferences</a></code></dt></dl><hr/><a name="isHidingWhitespace()"/><h3>isHidingWhitespace</h3><p class="prototype">public final boolean <b>isHidingWhitespace</b>()</p><div class="classdoc-comment-body"> Returns true if the consumer is hiding ignorable whitespace
 (the default), and false if such whitespace should be placed
 into the output document as children of element nodes.
</div><p/><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#setHidingWhitespace
">setHidingWhitespace</a></code></dt></dl><hr/><a name="setErrorHandler(org.xml.sax.ErrorHandler)"/><h3>setErrorHandler</h3><p class="prototype">public void <b>setErrorHandler</b>(<span class="parameter"><a href="../../../org/xml/sax/ErrorHandler.html">ErrorHandler</a>&nbsp;handler</span>)</p><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">handler</span></dt></dl><hr/><a name="setHandler(gnu.xml.pipeline.DomConsumer.Handler)"/><h3>setHandler</h3><p class="prototype">protected void <b>setHandler</b>(<span class="parameter"><a href="../../../gnu/xml/pipeline/DomConsumer.Handler.html">DomConsumer.Handler</a>&nbsp;h</span>)</p><div class="classdoc-comment-body"> This is the hook through which a subclass provides a handler
 which knows how to access DOM extensions, specific to some
 implementation, to record additional data in a DOM.
 Treat this as part of construction; don't call it except
 before (or between) parses.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">h</span></dt></dl><hr/><a name="setHidingCDATA(boolean)"/><h3>setHidingCDATA</h3><p class="prototype">public final void <b>setHidingCDATA</b>(<span class="parameter">boolean&nbsp;flag</span>)</p><div class="classdoc-comment-body"> Controls whether the consumer will save CDATA boundaries.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">flag</span> - True to treat CDATA text differently from other
text nodes</dt></dl><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#isHidingCDATA
">isHidingCDATA</a></code></dt></dl><hr/><a name="setHidingComments(boolean)"/><h3>setHidingComments</h3><p class="prototype">public final void <b>setHidingComments</b>(<span class="parameter">boolean&nbsp;flag</span>)</p><div class="classdoc-comment-body"> Controls whether the consumer is hiding comments.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">flag</span></dt></dl><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#isHidingComments
">isHidingComments</a></code></dt></dl><hr/><a name="setHidingReferences(boolean)"/><h3>setHidingReferences</h3><p class="prototype">public final void <b>setHidingReferences</b>(<span class="parameter">boolean&nbsp;flag</span>)</p><div class="classdoc-comment-body"> Controls whether the consumer will hide entity expansions,
 or will instead mark them with entity reference nodes.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">flag</span> - False if entity reference nodes will appear</dt></dl><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#isHidingReferences
">isHidingReferences</a></code></dt></dl><hr/><a name="setHidingWhitespace(boolean)"/><h3>setHidingWhitespace</h3><p class="prototype">public final void <b>setHidingWhitespace</b>(<span class="parameter">boolean&nbsp;flag</span>)</p><div class="classdoc-comment-body"> Controls whether the consumer hides ignorable whitespace
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">flag</span></dt></dl><div class="classdoc-tag-section-header">See Also:</div><dl class="classdoc-list"><dt><code><a href="#isHidingComments
">isHidingComments</a></code></dt></dl><hr class="footer"/><div class="footer">Generated on
  October 6, 2004
  by <a target="cptoolsinfo" href="http://www.gnu.org/software/cp-tools">GNU Classpath Tools</a> (Gjdoc XmlDoclet 0.6.1).</div></body></html>