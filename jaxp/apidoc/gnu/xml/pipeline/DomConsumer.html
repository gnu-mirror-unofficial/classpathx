<?xml version="1.0" encoding="null"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>DomConsumer</title><meta http-equiv="Content-Type" content="text/html; charset=null"/></head><body><table class="navbar div top"><tr><td><div><span class="navbar item enabled"><a href="../../..//index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <a href="../../..//alphaindex.html">Index</a> <a href="../../..//deprecated.html">Deprecated</a> <a href="../../..//help.html">Help</a> <a href="../../..//about.html">About</a></div></td></tr></table><div><h3>gnu.xml.pipeline</h3><h1>Class DomConsumer</h1><div><h4>Known Direct Subclasses:</h4><a href="../../..//gnu/xml/dom/Consumer.html">Consumer</a></h4><hr/><div><div>public class DomConsumer</div><div>extends java.lang.Object</div><div>implements <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a></div></div><hr/><div> This consumer builds a DOM Document from its input, acting either as a
 pipeline terminus or as an intermediate buffer.  When a document's worth
 of events has been delivered to this consumer, that document is read with
 a <a href="../../..//gnu/xml/util/DomParser.html">DomParser</a> and sent to the next consumer.  It is also available
 as a read-once property.

 <p/>The DOM tree is constructed as faithfully as possible.  There are some
 complications since a DOM should expose behaviors that can't be implemented
 without API backdoors into that DOM, and because some SAX parsers don't
 report all the information that DOM permits to be exposed.  The general
 problem areas involve information from the Document Type Declaration (DTD).
 DOM only represents a limited subset, but has some behaviors that depend
 on much deeper knowledge of a document's DTD.  You shouldn't have much to
 worry about unless you change handling of "noise" nodes from its default
 setting (which ignores them all); note if you use JAXP to populate your
 DOM trees, it wants to save "noise" nodes by default.  (Such nodes include
 ignorable whitespace, comments, entity references and CDATA boundaries.)
 Otherwise, your
 main worry will be if you use a SAX parser that doesn't flag ignorable
 whitespace unless it's validating (few don't).

 <p/> The SAX2 events used as input must contain XML Names for elements
 and attributes, with original prefixes.  In SAX2,
 this is optional unless the "namespace-prefixes" parser feature is set.
 Moreover, many application components won't provide completely correct
 structures anyway.  <em>Before you convert a DOM to an output document,
 you should plan to postprocess it to create or repair such namespace
 information.</em> The <a href="../../..//gnu/xml/pipeline/NSFilter.html">NSFilter</a> pipeline stage does such work.

 <p/> <em>Note:  changes late in DOM L2 process made it impractical to
 attempt to create the DocumentType node in any implementation-neutral way,
 much less to populate it (L1 didn't support even creating such nodes).
 To create and populate such a node, subclass the inner
<a href="../../..//gnu/xml/pipeline/DomConsumer.Handler.html">DomConsumer.Handler</a> class and teach it about the backdoors into
  whatever DOM implementation you want.  It's possible that some revised
 DOM API (L3?) will make this problem solvable again. </em>
</div><dl class="tag list"><dt class="tag section header"><b>Author:</b></dt><dd class="tag item">David Brownell</dd></dl><table class="class summary"><tr><td colspan="2"><h4>Constructor Summary</h4></td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#DomConsumer(Class)">DomConsumer</a>(Class impl)</td></tr><tr><td></td><td> Configures this pipeline terminus to use the specified implementation
 of DOM when constructing its result value.</td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#DomConsumer(Class,gnu.xml.pipeline.EventConsumer)">DomConsumer</a>(Class impl, <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a> n)</td></tr><tr><td></td><td> Configures this consumer as a buffer/filter, using the specified
 DOM implementation when constructing its result value.</td></tr></table><table class="class summary"><tr><td colspan="2"><h4>Method Summary</h4></td></tr><tr><td class="class summary left">public final <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></td><td class="class summary right"> <a href="#getContentHandler()">getContentHandler</a>()</td></tr><tr><td></td><td>Returns the document handler being used.</td></tr><tr><td class="class summary left">public final <a href="../../..//org/xml/sax/DTDHandler.html">DTDHandler</a></td><td class="class summary right"> <a href="#getDTDHandler()">getDTDHandler</a>()</td></tr><tr><td></td><td>Returns the DTD handler being used.</td></tr><tr><td class="class summary left">public final <a href="../../..//org/w3c/dom/Document.html">Document</a></td><td class="class summary right"> <a href="#getDocument()">getDocument</a>()</td></tr><tr><td></td><td> Returns the document constructed from the preceding
 sequence of events.</td></tr><tr><td class="class summary left">public final Object</td><td class="class summary right"> <a href="#getProperty(String)">getProperty</a>(String id)</td></tr><tr><td></td><td> Returns the lexical handler being used.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isHidingCDATA()">isHidingCDATA</a>()</td></tr><tr><td></td><td> Returns true if the consumer is saving CDATA boundaries, or
 false (the default) otherwise.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isHidingComments()">isHidingComments</a>()</td></tr><tr><td></td><td> Returns true if the consumer is hiding comments (the default),
 and false if they should be placed into the output document.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isHidingReferences()">isHidingReferences</a>()</td></tr><tr><td></td><td> Returns true if the consumer is hiding entity references nodes
 (the default), and false if EntityReference nodes should
 instead be created.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isHidingWhitespace()">isHidingWhitespace</a>()</td></tr><tr><td></td><td> Returns true if the consumer is hiding ignorable whitespace
 (the default), and false if such whitespace should be placed
 into the output document as children of element nodes.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#setErrorHandler(org.xml.sax.ErrorHandler)">setErrorHandler</a>(<a href="../../..//org/xml/sax/ErrorHandler.html">ErrorHandler</a> handler)</td></tr><tr><td></td><td></td></tr><tr><td class="class summary left">protected void</td><td class="class summary right"> <a href="#setHandler(gnu.xml.pipeline.DomConsumer.Handler)">setHandler</a>(<a href="../../..//gnu/xml/pipeline/DomConsumer.Handler.html">DomConsumer.Handler</a> h)</td></tr><tr><td></td><td> This is the hook through which a subclass provides a handler
 which knows how to access DOM extensions, specific to some
 implementation, to record additional data in a DOM.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setHidingCDATA(boolean)">setHidingCDATA</a>(boolean flag)</td></tr><tr><td></td><td> Controls whether the consumer will save CDATA boundaries.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setHidingComments(boolean)">setHidingComments</a>(boolean flag)</td></tr><tr><td></td><td> Controls whether the consumer is hiding comments.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setHidingReferences(boolean)">setHidingReferences</a>(boolean flag)</td></tr><tr><td></td><td> Controls whether the consumer will hide entity expansions,
 or will instead mark them with entity reference nodes.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setHidingWhitespace(boolean)">setHidingWhitespace</a>(boolean flag)</td></tr><tr><td></td><td> Controls whether the consumer hides ignorable whitespace
</td></tr></table><h4>Constructor Details</h4><a name="DomConsumer(Class)"/><div><h3>DomConsumer</h3><p>public DomConsumer(Class impl)</p><div> Configures this pipeline terminus to use the specified implementation
 of DOM when constructing its result value.
</div><div><h4>Parameters:</h4><div>impl - class implementing org.w3c.dom.Document Document
which publicly exposes a default constructor</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a> - when there is a problem creating an
empty DOM document using the specified implementation</div></div></div><hr/><a name="DomConsumer(Class,gnu.xml.pipeline.EventConsumer)"/><div><h3>DomConsumer</h3><p>public DomConsumer(Class impl, <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a> n)</p><div> Configures this consumer as a buffer/filter, using the specified
 DOM implementation when constructing its result value.

 <p/> This event consumer acts as a buffer and filter, in that it
 builds a DOM tree and then writes it out when <em>endDocument</em>
 is invoked.  Because of the limitations of DOM, much information
 will as a rule not be seen in that replay.  To get a full fidelity
 copy of the input event stream, use a <a href="../../..//gnu/xml/pipeline/TeeConsumer.html">TeeConsumer</a>.
</div><div><h4>Parameters:</h4><div>impl - class implementing org.w3c.dom.Document Document
which publicly exposes a default constructor</div><div>n</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a> - when there is a problem creating an
empty DOM document using the specified DOM implementation</div></div></div><h4>Method Details</h4><a name="getContentHandler()"/><div><h3>getContentHandler</h3><p>public final <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a> getContentHandler()</p><div>Returns the document handler being used. </div><div><h4>Specified by:</h4><div>getContentHandler in interface <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a></div></div></div><hr/><a name="getDTDHandler()"/><div><h3>getDTDHandler</h3><p>public final <a href="../../..//org/xml/sax/DTDHandler.html">DTDHandler</a> getDTDHandler()</p><div>Returns the DTD handler being used. </div><div><h4>Specified by:</h4><div>getDTDHandler in interface <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a></div></div></div><hr/><a name="getDocument()"/><div><h3>getDocument</h3><p>public final <a href="../../..//org/w3c/dom/Document.html">Document</a> getDocument()</p><div> Returns the document constructed from the preceding
 sequence of events.  This method should not be
 used again until another sequence of events has been
 given to this EventConsumer.  
</div></div><hr/><a name="getProperty(String)"/><div><h3>getProperty</h3><p>public final Object getProperty(String id)</p><div> Returns the lexical handler being used.
 (DOM construction can't really use declaration handlers.)
</div><div><h4>Specified by:</h4><div>getProperty in interface <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a></div></div><div><h4>Parameters:</h4><div>id</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXNotRecognizedException.html">SAXNotRecognizedException</a></div></div></div><hr/><a name="isHidingCDATA()"/><div><h3>isHidingCDATA</h3><p>public final boolean isHidingCDATA()</p><div> Returns true if the consumer is saving CDATA boundaries, or
 false (the default) otherwise.
</div></div><hr/><a name="isHidingComments()"/><div><h3>isHidingComments</h3><p>public final boolean isHidingComments()</p><div> Returns true if the consumer is hiding comments (the default),
 and false if they should be placed into the output document.
</div></div><hr/><a name="isHidingReferences()"/><div><h3>isHidingReferences</h3><p>public final boolean isHidingReferences()</p><div> Returns true if the consumer is hiding entity references nodes
 (the default), and false if EntityReference nodes should
 instead be created.  Such EntityReference nodes will normally be
 empty, unless an implementation arranges to populate them and then
 turn them back into readonly objects.
</div></div><hr/><a name="isHidingWhitespace()"/><div><h3>isHidingWhitespace</h3><p>public final boolean isHidingWhitespace()</p><div> Returns true if the consumer is hiding ignorable whitespace
 (the default), and false if such whitespace should be placed
 into the output document as children of element nodes.
</div></div><hr/><a name="setErrorHandler(org.xml.sax.ErrorHandler)"/><div><h3>setErrorHandler</h3><p>public void setErrorHandler(<a href="../../..//org/xml/sax/ErrorHandler.html">ErrorHandler</a> handler)</p><div></div><div><h4>Specified by:</h4><div>setErrorHandler in interface <a href="../../..//gnu/xml/pipeline/EventConsumer.html">EventConsumer</a></div></div><div><h4>Parameters:</h4><div>handler</div></div></div><hr/><a name="setHandler(gnu.xml.pipeline.DomConsumer.Handler)"/><div><h3>setHandler</h3><p>protected void setHandler(<a href="../../..//gnu/xml/pipeline/DomConsumer.Handler.html">DomConsumer.Handler</a> h)</p><div> This is the hook through which a subclass provides a handler
 which knows how to access DOM extensions, specific to some
 implementation, to record additional data in a DOM.
 Treat this as part of construction; don't call it except
 before (or between) parses.
</div><div><h4>Parameters:</h4><div>h</div></div></div><hr/><a name="setHidingCDATA(boolean)"/><div><h3>setHidingCDATA</h3><p>public final void setHidingCDATA(boolean flag)</p><div> Controls whether the consumer will save CDATA boundaries.
</div><div><h4>Parameters:</h4><div>flag - True to treat CDATA text differently from other
text nodes</div></div></div><hr/><a name="setHidingComments(boolean)"/><div><h3>setHidingComments</h3><p>public final void setHidingComments(boolean flag)</p><div> Controls whether the consumer is hiding comments.
</div><div><h4>Parameters:</h4><div>flag</div></div></div><hr/><a name="setHidingReferences(boolean)"/><div><h3>setHidingReferences</h3><p>public final void setHidingReferences(boolean flag)</p><div> Controls whether the consumer will hide entity expansions,
 or will instead mark them with entity reference nodes.
</div><div><h4>Parameters:</h4><div>flag - False if entity reference nodes will appear</div></div></div><hr/><a name="setHidingWhitespace(boolean)"/><div><h3>setHidingWhitespace</h3><p>public final void setHidingWhitespace(boolean flag)</p><div> Controls whether the consumer hides ignorable whitespace
</div><div><h4>Parameters:</h4><div>flag</div></div></div><p> </p><table class="navbar div bottom"><tr><td><div><span class="navbar item enabled"><a href="../../..//index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <a href="../../..//alphaindex.html">Index</a> <a href="../../..//deprecated.html">Deprecated</a> <a href="../../..//help.html">Help</a> <a href="../../..//about.html">About</a></div></td></tr></table></body></html>