<?xml version="1.0" encoding="null"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>XMLWriter</title><meta http-equiv="Content-Type" content="text/html; charset=null"/></head><body><table class="navbar div top"><tr><td><div><span class="navbar item enabled"><a href="../../..//index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <a href="../../..//alphaindex.html">Index</a> <a href="../../..//deprecated.html">Deprecated</a> <a href="../../..//help.html">Help</a> <a href="../../..//about.html">About</a></div></td></tr></table><div><h3>gnu.xml.util</h3><h1>Class XMLWriter</h1><div><h4>Known Direct Subclasses:</h4><a href="../../..//gnu/xml/pipeline/TextConsumer.html">TextConsumer</a>, <a href="../../..//gnu/xml/util/XHTMLWriter.html">XHTMLWriter</a></h4><hr/><div><div>public class XMLWriter</div><div>extends java.lang.Object</div><div>implements <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a>, <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a>, <a href="../../..//org/xml/sax/DTDHandler.html">DTDHandler</a>, <a href="../../..//org/xml/sax/ext/DeclHandler.html">DeclHandler</a></div></div><hr/><div> This class is a SAX handler which writes all its input as a well formed
 XML or XHTML document.  If driven using SAX2 events, this output may
 include a recreated document type declaration, subject to limitations
 of SAX (no internal subset exposed) or DOM (the important declarations,
 with their documentation, are discarded).

 <p/> By default, text is generated "as-is", but some optional modes
 are supported.  Pretty-printing is supported, to make life easier
 for people reading the output.  XHTML (1.0) output has can be made
 particularly pretty; all the built-in character entities are known.
 Canonical XML can also be generated, assuming the input is properly
 formed.

 <hr/>

 <p/> Some of the methods on this class are intended for applications to
 use directly, rather than as pure SAX2 event callbacks.  Some of those
 methods access the JavaBeans properties (used to tweak output formats,
 for example canonicalization and pretty printing).  Subclasses
 are expected to add new behaviors, not to modify current behavior, so
 many such methods are final.

 <p/> The <em>write*()</em> methods may be slightly simpler for some
 applications to use than direct callbacks.  For example, they support
 a simple policy for encoding data items as the content of a single element.

 <p/> To reuse an XMLWriter you must provide it with a new Writer, since
 this handler closes the writer it was given as part of its endDocument()
 handling.  (XML documents have an end of input, and the way to encode
 that on a stream is to close it.) 

 <hr/>

 <p/> Note that any relative URIs in the source document, as found in
 entity and notation declarations, ought to have been fully resolved by
 the parser providing events to this handler.  This means that the
 output text should only have fully resolved URIs, which may not be
 the desired behavior in cases where later binding is desired. 

 <p/> <em>Note that due to SAX2 defaults, you may need to manually
 ensure that the input events are XML-conformant with respect to namespace
 prefixes and declarations.  <a href="../../..//gnu/xml/pipeline/NSFilter.html">gnu.xml.pipeline.NSFilter</a> is
 one solution to this problem, in the context of processing pipelines.</em>
 Something as simple as connecting this handler to a parser might not
 generate the correct output.  Another workaround is to ensure that the
 <em>namespace-prefixes</em> feature is always set to true, if you're
 hooking this directly up to some XMLReader implementation.
</div><dl class="tag list"><dt class="tag section header"><b>Author:</b></dt><dd class="tag item">David Brownell</dd></dl><table class="class summary"><tr><td colspan="2"><h4>Constructor Summary</h4></td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#XMLWriter()">XMLWriter</a>()</td></tr><tr><td></td><td> Constructs this handler with System.out used to write SAX events
 using the UTF-8 encoding.</td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#XMLWriter(OutputStream)">XMLWriter</a>(OutputStream out)</td></tr><tr><td></td><td> Constructs a handler which writes all input to the output stream
 in the UTF-8 encoding, and closes it when endDocument is called.</td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#XMLWriter(Writer)">XMLWriter</a>(Writer writer)</td></tr><tr><td></td><td> Constructs a handler which writes all input to the writer, and then
 closes the writer when the document ends.</td></tr><tr><td class="class summary left">public </td><td class="class summary right"> <a href="#XMLWriter(Writer,String)">XMLWriter</a>(Writer writer, String encoding)</td></tr><tr><td></td><td> Constructs a handler which writes all input to the writer, and then
 closes the writer when the document ends.</td></tr></table><table class="class summary"><tr><td colspan="2"><h4>Method Summary</h4></td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#attributeDecl(String,String,String,String,String)">attributeDecl</a>(String eName, String aName, String type, String mode, String value)</td></tr><tr><td></td><td><b>SAX2</b>:  called on attribute declarations </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#characters(ch[],int,int)">characters</a>(ch , int start, int length)</td></tr><tr><td></td><td><b>SAX1</b>:  reports content characters </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#comment(ch[],int,int)">comment</a>(ch , int start, int length)</td></tr><tr><td></td><td> <b>SAX2</b>:  called when comments are parsed.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#elementDecl(String,String)">elementDecl</a>(String name, String model)</td></tr><tr><td></td><td><b>SAX2</b>:  called on element declarations </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#endCDATA()">endCDATA</a>()</td></tr><tr><td></td><td><b>SAX2</b>:  called after parsing CDATA characters </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#endDTD()">endDTD</a>()</td></tr><tr><td></td><td><b>SAX2</b>:  called after the doctype is parsed </td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#endDocument()">endDocument</a>()</td></tr><tr><td></td><td> <b>SAX1</b>:  indicates the completion of a parse.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#endElement(String,String,String)">endElement</a>(String uri, String localName, String qName)</td></tr><tr><td></td><td><b>SAX2</b>:  indicates the end of an element </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#endEntity(String)">endEntity</a>(String name)</td></tr><tr><td></td><td> <b>SAX2</b>:  called after parsing a general entity in content
</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#endPrefixMapping(String)">endPrefixMapping</a>(String prefix)</td></tr><tr><td></td><td> <b>SAX2</b>:  ignored.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#externalEntityDecl(String,String,String)">externalEntityDecl</a>(String name, String publicId, String systemId)</td></tr><tr><td></td><td><b>SAX2</b>:  called on external entity declarations </td></tr><tr><td class="class summary left">protected void</td><td class="class summary right"> <a href="#fatal(String,Exception)">fatal</a>(String message, Exception e)</td></tr><tr><td></td><td> Used internally and by subclasses, this encapsulates the logic
 involved in reporting fatal errors.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#flush()">flush</a>()</td></tr><tr><td></td><td> Flushes the output stream.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#ignorableWhitespace(ch[],int,int)">ignorableWhitespace</a>(ch , int start, int length)</td></tr><tr><td></td><td><b>SAX1</b>:  reports ignorable whitespace </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#internalEntityDecl(String,String)">internalEntityDecl</a>(String name, String value)</td></tr><tr><td></td><td><b>SAX2</b>:  called on internal entity declarations </td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isCanonical()">isCanonical</a>()</td></tr><tr><td></td><td> Returns value of flag controlling canonical output.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isExpandingEntities()">isExpandingEntities</a>()</td></tr><tr><td></td><td> Returns true if the output will have no entity references;
 returns false (the default) otherwise.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isPrettyPrinting()">isPrettyPrinting</a>()</td></tr><tr><td></td><td> Returns value of flag controlling pretty printing.</td></tr><tr><td class="class summary left">public final boolean</td><td class="class summary right"> <a href="#isXhtml()">isXhtml</a>()</td></tr><tr><td></td><td> Returns true if the output attempts to echo the input following
 "transitional" XHTML rules and matching the "HTML Compatibility
 Guidelines" so that an HTML version 3 browser can read the output
 as HTML; returns false (the default) othewise.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#notationDecl(String,String,String)">notationDecl</a>(String name, String publicId, String systemId)</td></tr><tr><td></td><td><b>SAX1</b>:  called on notation declarations </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#processingInstruction(String,String)">processingInstruction</a>(String target, String data)</td></tr><tr><td></td><td> <b>SAX1</b>:  reports a PI.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setCanonical(boolean)">setCanonical</a>(boolean value)</td></tr><tr><td></td><td> Sets the output style to be canonicalized.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setDocumentLocator(org.xml.sax.Locator)">setDocumentLocator</a>(<a href="../../..//org/xml/sax/Locator.html">Locator</a> l)</td></tr><tr><td></td><td><b>SAX1</b>:  provides parser status information </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setEOL(String)">setEOL</a>(String eolString)</td></tr><tr><td></td><td> Assigns the line ending style to be used on output.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#setErrorHandler(org.xml.sax.ErrorHandler)">setErrorHandler</a>(<a href="../../..//org/xml/sax/ErrorHandler.html">ErrorHandler</a> handler)</td></tr><tr><td></td><td> Assigns the error handler to be used to present most fatal
 errors.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setExpandingEntities(boolean)">setExpandingEntities</a>(boolean value)</td></tr><tr><td></td><td> Controls whether the output text contains references to
 entities (the default), or instead contains the expanded
 values of those entities.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setPrettyPrinting(boolean)">setPrettyPrinting</a>(boolean value)</td></tr><tr><td></td><td> Controls pretty-printing, which by default is not enabled
 (and currently is most useful for XHTML output).</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setWriter(Writer,String)">setWriter</a>(Writer writer, String encoding)</td></tr><tr><td></td><td> Resets the handler to write a new text document.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#setXhtml(boolean)">setXhtml</a>(boolean value)</td></tr><tr><td></td><td> Controls whether the output should attempt to follow the "transitional"
 XHTML rules so that it meets the "HTML Compatibility Guidelines"
 appendix in the XHTML specification.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#skippedEntity(String)">skippedEntity</a>(String name)</td></tr><tr><td></td><td><b>SAX1</b>: indicates a non-expanded entity reference </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#startCDATA()">startCDATA</a>()</td></tr><tr><td></td><td><b>SAX2</b>:  called before parsing CDATA characters </td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#startDTD(String,String,String)">startDTD</a>(String name, String publicId, String systemId)</td></tr><tr><td></td><td> <b>SAX2</b>:  called when the doctype is partially parsed
 Note that this, like other doctype related calls, is ignored
 when XHTML is in use.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#startDocument()">startDocument</a>()</td></tr><tr><td></td><td> <b>SAX1</b>:  indicates the beginning of a document parse.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#startElement(String,String,String,org.xml.sax.Attributes)">startElement</a>(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts)</td></tr><tr><td></td><td> <b>SAX2</b>:  indicates the start of an element.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#startEntity(String)">startEntity</a>(String name)</td></tr><tr><td></td><td> <b>SAX2</b>:  called before parsing a general entity in content
</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#startPrefixMapping(String,String)">startPrefixMapping</a>(String prefix, String uri)</td></tr><tr><td></td><td> <b>SAX2</b>:  ignored.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#unparsedEntityDecl(String,String,String,String)">unparsedEntityDecl</a>(String name, String publicId, String systemId, String notationName)</td></tr><tr><td></td><td><b>SAX1</b>:  called on unparsed entity declarations </td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#writeElement(String,String,String,org.xml.sax.Attributes,String)">writeElement</a>(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts, String content)</td></tr><tr><td></td><td> Writes an element that has content consisting of a single string.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#writeElement(String,String,String,org.xml.sax.Attributes,int)">writeElement</a>(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts, int content)</td></tr><tr><td></td><td> Writes an element that has content consisting of a single integer,
 encoded as a decimal string.</td></tr><tr><td class="class summary left">public void</td><td class="class summary right"> <a href="#writeEmptyElement(String,String,String,org.xml.sax.Attributes)">writeEmptyElement</a>(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts)</td></tr><tr><td></td><td> Writes an empty element.</td></tr><tr><td class="class summary left">public final void</td><td class="class summary right"> <a href="#write(String)">write</a>(String data)</td></tr><tr><td></td><td> Writes the string as if characters() had been called on the contents
 of the string.</td></tr></table><h4>Constructor Details</h4><a name="XMLWriter()"/><div><h3>XMLWriter</h3><p>public XMLWriter()</p><div> Constructs this handler with System.out used to write SAX events
 using the UTF-8 encoding.  Avoid using this except when you know
 it's safe to close System.out at the end of the document.
</div><div><h4>Throws:</h4><div>IOException</div></div></div><hr/><a name="XMLWriter(OutputStream)"/><div><h3>XMLWriter</h3><p>public XMLWriter(OutputStream out)</p><div> Constructs a handler which writes all input to the output stream
 in the UTF-8 encoding, and closes it when endDocument is called.
 (Yes it's annoying that this throws an exception -- but there's
 really no way around it, since it's barely possible a JDK may
 exist somewhere that doesn't know how to emit UTF-8.)
</div><div><h4>Parameters:</h4><div>out</div></div><div><h4>Throws:</h4><div>IOException</div></div></div><hr/><a name="XMLWriter(Writer)"/><div><h3>XMLWriter</h3><p>public XMLWriter(Writer writer)</p><div> Constructs a handler which writes all input to the writer, and then
 closes the writer when the document ends.  If an XML declaration is
 written onto the output, and this class can determine the name of
 the character encoding for this writer, that encoding name will be
 included in the XML declaration.

 <p/> See the description of the constructor which takes an encoding
 name for imporant information about selection of encodings.
</div><div><h4>Parameters:</h4><div>writer - XML text is written to this writer.</div></div></div><hr/><a name="XMLWriter(Writer,String)"/><div><h3>XMLWriter</h3><p>public XMLWriter(Writer writer, String encoding)</p><div> Constructs a handler which writes all input to the writer, and then
 closes the writer when the document ends.  If an XML declaration is
 written onto the output, this class will use the specified encoding
 name in that declaration.  If no encoding name is specified, no
 encoding name will be declared unless this class can otherwise
 determine the name of the character encoding for this writer.

 <p/> At this time, only the UTF-8 ("UTF8") and UTF-16 ("Unicode")
 output encodings are fully lossless with respect to XML data.  If you
 use any other encoding you risk having your data be silently mangled
 on output, as the standard Java character encoding subsystem silently
 maps non-encodable characters to a question mark ("?") and will not
 report such errors to applications.

 <p/> For a few other encodings the risk can be reduced. If the writer is
 a java.io.OutputStreamWriter, and uses either the ISO-8859-1 ("8859_1",
 "ISO8859_1", etc) or US-ASCII ("ASCII") encodings, content which
 can't be encoded in those encodings will be written safely.  Where
 relevant, the XHTML entity names will be used; otherwise, numeric
 character references will be emitted.

 <p/> However, there remain a number of cases where substituting such
 entity or character references is not an option.  Such references are
 not usable within a DTD, comment, PI, or CDATA section.  Neither may
 they be used when element, attribute, entity, or notation names have
 the problematic characters.
</div><div><h4>Parameters:</h4><div>writer - XML text is written to this writer.</div><div>encoding - if non-null, and an XML declaration is written,
this is the name that will be used for the character encoding.</div></div></div><h4>Method Details</h4><a name="attributeDecl(String,String,String,String,String)"/><div><h3>attributeDecl</h3><p>public final void attributeDecl(String eName, String aName, String type, String mode, String value)</p><div><b>SAX2</b>:  called on attribute declarations </div><div><h4>Specified by:</h4><div>attributeDecl in interface <a href="../../..//org/xml/sax/ext/DeclHandler.html">DeclHandler</a></div></div><div><h4>Parameters:</h4><div>eName</div><div>aName</div><div>type</div><div>mode</div><div>value</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="characters(ch[],int,int)"/><div><h3>characters</h3><p>public final void characters(ch , int start, int length)</p><div><b>SAX1</b>:  reports content characters </div><div><h4>Specified by:</h4><div>characters in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div></div><div>start</div><div>length</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="comment(ch[],int,int)"/><div><h3>comment</h3><p>public final void comment(ch , int start, int length)</p><div> <b>SAX2</b>:  called when comments are parsed.
 When XHTML is used, the old HTML tradition of using comments
 to for inline CSS, or for JavaScript code is  discouraged.
 This is because XML processors are encouraged to discard, on
 the grounds that comments are for users (and perhaps text
 editors) not programs.  Instead, use external scripts
</div><div><h4>Specified by:</h4><div>comment in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Parameters:</h4><div></div><div>start</div><div>length</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="elementDecl(String,String)"/><div><h3>elementDecl</h3><p>public final void elementDecl(String name, String model)</p><div><b>SAX2</b>:  called on element declarations </div><div><h4>Specified by:</h4><div>elementDecl in interface <a href="../../..//org/xml/sax/ext/DeclHandler.html">DeclHandler</a></div></div><div><h4>Parameters:</h4><div>name</div><div>model</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endCDATA()"/><div><h3>endCDATA</h3><p>public final void endCDATA()</p><div><b>SAX2</b>:  called after parsing CDATA characters </div><div><h4>Specified by:</h4><div>endCDATA in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endDTD()"/><div><h3>endDTD</h3><p>public final void endDTD()</p><div><b>SAX2</b>:  called after the doctype is parsed </div><div><h4>Specified by:</h4><div>endDTD in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endDocument()"/><div><h3>endDocument</h3><p>public void endDocument()</p><div> <b>SAX1</b>:  indicates the completion of a parse.
 Note that all complete SAX event streams make this call, even
 if an error is reported during a parse.
</div><div><h4>Specified by:</h4><div>endDocument in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endElement(String,String,String)"/><div><h3>endElement</h3><p>public final void endElement(String uri, String localName, String qName)</p><div><b>SAX2</b>:  indicates the end of an element </div><div><h4>Specified by:</h4><div>endElement in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endEntity(String)"/><div><h3>endEntity</h3><p>public final void endEntity(String name)</p><div> <b>SAX2</b>:  called after parsing a general entity in content
</div><div><h4>Specified by:</h4><div>endEntity in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Parameters:</h4><div>name</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="endPrefixMapping(String)"/><div><h3>endPrefixMapping</h3><p>public final void endPrefixMapping(String prefix)</p><div> <b>SAX2</b>:  ignored.
</div><div><h4>Specified by:</h4><div>endPrefixMapping in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>prefix</div></div></div><hr/><a name="externalEntityDecl(String,String,String)"/><div><h3>externalEntityDecl</h3><p>public final void externalEntityDecl(String name, String publicId, String systemId)</p><div><b>SAX2</b>:  called on external entity declarations </div><div><h4>Specified by:</h4><div>externalEntityDecl in interface <a href="../../..//org/xml/sax/ext/DeclHandler.html">DeclHandler</a></div></div><div><h4>Parameters:</h4><div>name</div><div>publicId</div><div>systemId</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="fatal(String,Exception)"/><div><h3>fatal</h3><p>protected void fatal(String message, Exception e)</p><div> Used internally and by subclasses, this encapsulates the logic
 involved in reporting fatal errors.  It uses locator information
 for good diagnostics, if available, and gives the application's
 ErrorHandler the opportunity to handle the error before throwing
 an exception.
</div><div><h4>Parameters:</h4><div>message</div><div>e</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="flush()"/><div><h3>flush</h3><p>public final void flush()</p><div> Flushes the output stream.  When this handler is used in long lived
 pipelines, it can be important to flush buffered state, for example
 so that it can reach the disk as part of a state checkpoint.
</div><div><h4>Throws:</h4><div>IOException</div></div></div><hr/><a name="ignorableWhitespace(ch[],int,int)"/><div><h3>ignorableWhitespace</h3><p>public final void ignorableWhitespace(ch , int start, int length)</p><div><b>SAX1</b>:  reports ignorable whitespace </div><div><h4>Specified by:</h4><div>ignorableWhitespace in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div></div><div>start</div><div>length</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="internalEntityDecl(String,String)"/><div><h3>internalEntityDecl</h3><p>public final void internalEntityDecl(String name, String value)</p><div><b>SAX2</b>:  called on internal entity declarations </div><div><h4>Specified by:</h4><div>internalEntityDecl in interface <a href="../../..//org/xml/sax/ext/DeclHandler.html">DeclHandler</a></div></div><div><h4>Parameters:</h4><div>name</div><div>value</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="isCanonical()"/><div><h3>isCanonical</h3><p>public final boolean isCanonical()</p><div> Returns value of flag controlling canonical output.
</div></div><hr/><a name="isExpandingEntities()"/><div><h3>isExpandingEntities</h3><p>public final boolean isExpandingEntities()</p><div> Returns true if the output will have no entity references;
 returns false (the default) otherwise.
</div></div><hr/><a name="isPrettyPrinting()"/><div><h3>isPrettyPrinting</h3><p>public final boolean isPrettyPrinting()</p><div> Returns value of flag controlling pretty printing.
</div></div><hr/><a name="isXhtml()"/><div><h3>isXhtml</h3><p>public final boolean isXhtml()</p><div> Returns true if the output attempts to echo the input following
 "transitional" XHTML rules and matching the "HTML Compatibility
 Guidelines" so that an HTML version 3 browser can read the output
 as HTML; returns false (the default) othewise.
</div></div><hr/><a name="notationDecl(String,String,String)"/><div><h3>notationDecl</h3><p>public final void notationDecl(String name, String publicId, String systemId)</p><div><b>SAX1</b>:  called on notation declarations </div><div><h4>Specified by:</h4><div>notationDecl in interface <a href="../../..//org/xml/sax/DTDHandler.html">DTDHandler</a></div></div><div><h4>Parameters:</h4><div>name</div><div>publicId</div><div>systemId</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="processingInstruction(String,String)"/><div><h3>processingInstruction</h3><p>public final void processingInstruction(String target, String data)</p><div> <b>SAX1</b>:  reports a PI.
 This doesn't check for illegal target names, such as "xml" or "XML",
 or namespace-incompatible ones like "big:dog"; the caller is
 responsible for ensuring those names are legal.
</div><div><h4>Specified by:</h4><div>processingInstruction in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>target</div><div>data</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="setCanonical(boolean)"/><div><h3>setCanonical</h3><p>public final void setCanonical(boolean value)</p><div> Sets the output style to be canonicalized.  Input events must
 meet requirements that are slightly more stringent than the
 basic well-formedness ones, and include:  <ul>

	<li> Namespace prefixes must not have been changed from those
	in the original document.  (This may only be ensured by setting
	the SAX2 XMLReader <em>namespace-prefixes</em> feature flag;
	by default, it is cleared.)

	</li><li> Redundant namespace declaration attributes have been
	removed.  (If an ancestor element defines a namespace prefix
	and that declaration hasn't been overriden, an element must
	not redeclare it.)

	</li><li> If comments are not to be included in the canonical output,
	they must first be removed from the input event stream; this
	<em>Canonical XML with comments</em> by default.

	</li><li> If the input character encoding was not UCS-based, the
	character data must have been normalized using Unicode
	Normalization Form C.  (UTF-8 and UTF-16 are UCS-based.)

	</li><li> Attribute values must have been normalized, as is done
	by any conformant XML processor which processes all external
	parameter entities.

	</li><li> Similarly, attribute value defaulting has been performed.

	</li></ul>

 <p/> Note that fragments of XML documents, as specified by an XPath
 node set, may be canonicalized.  In such cases, elements may need
 some fixup (for <em>xml:*</em> attributes and application-specific
 context).
</div><div><h4>Parameters:</h4><div>value</div></div></div><hr/><a name="setDocumentLocator(org.xml.sax.Locator)"/><div><h3>setDocumentLocator</h3><p>public final void setDocumentLocator(<a href="../../..//org/xml/sax/Locator.html">Locator</a> l)</p><div><b>SAX1</b>:  provides parser status information </div><div><h4>Specified by:</h4><div>setDocumentLocator in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>l</div></div></div><hr/><a name="setEOL(String)"/><div><h3>setEOL</h3><p>public final void setEOL(String eolString)</p><div> Assigns the line ending style to be used on output.
</div><div><h4>Parameters:</h4><div>eolString - null to use the system default; else
"\n", "\r", or "\r\n".</div></div></div><hr/><a name="setErrorHandler(org.xml.sax.ErrorHandler)"/><div><h3>setErrorHandler</h3><p>public void setErrorHandler(<a href="../../..//org/xml/sax/ErrorHandler.html">ErrorHandler</a> handler)</p><div> Assigns the error handler to be used to present most fatal
 errors.
</div><div><h4>Parameters:</h4><div>handler</div></div></div><hr/><a name="setExpandingEntities(boolean)"/><div><h3>setExpandingEntities</h3><p>public final void setExpandingEntities(boolean value)</p><div> Controls whether the output text contains references to
 entities (the default), or instead contains the expanded
 values of those entities.
</div><div><h4>Parameters:</h4><div>value</div></div></div><hr/><a name="setPrettyPrinting(boolean)"/><div><h3>setPrettyPrinting</h3><p>public final void setPrettyPrinting(boolean value)</p><div> Controls pretty-printing, which by default is not enabled
 (and currently is most useful for XHTML output).
 Pretty printing enables structural indentation, sorting of attributes
 by name, line wrapping, and potentially other mechanisms for making
 output more or less readable.

 <p/> At this writing, structural indentation and line wrapping are
 enabled when pretty printing is enabled and the <em>xml:space</em>
 attribute has the value <em>default</em> (its other legal value is
 <em>preserve</em>, as defined in the XML specification).  The three
 XHTML element types which use another value are recognized by their
 names (namespaces are ignored).

 <p/> Also, for the record, the "pretty" aspect of printing here
 is more to provide basic structure on outputs that would otherwise
 risk being a single long line of text.  For now, expect the
 structure to be ragged ... unless you'd like to submit a patch
 to make this be more strictly formatted!
</div><div><h4>Parameters:</h4><div>value</div></div></div><hr/><a name="setWriter(Writer,String)"/><div><h3>setWriter</h3><p>public final void setWriter(Writer writer, String encoding)</p><div> Resets the handler to write a new text document.
</div><div><h4>Parameters:</h4><div>writer - XML text is written to this writer.</div><div>encoding - if non-null, and an XML declaration is written,
this is the name that will be used for the character encoding.</div></div></div><hr/><a name="setXhtml(boolean)"/><div><h3>setXhtml</h3><p>public final void setXhtml(boolean value)</p><div> Controls whether the output should attempt to follow the "transitional"
 XHTML rules so that it meets the "HTML Compatibility Guidelines"
 appendix in the XHTML specification.  A "transitional" Document Type
 Declaration (DTD) is placed near the beginning of the output document,
 instead of whatever DTD would otherwise have been placed there, and
 XHTML empty elements are printed specially.  When writing text in
 US-ASCII or ISO-8859-1 encodings, the predefined XHTML internal
 entity names are used (in preference to character references) when
 writing content characters which can't be expressed in those encodings.

 <p/> When this option is enabled, it is the caller's responsibility
 to ensure that the input is otherwise valid as XHTML.  Things to
 be careful of in all cases, as described in the appendix referenced
 above, include:  <ul>

	<li> Element and attribute names must be in lower case, both
		in the document and in any CSS style sheet.
	</li><li> All XML constructs must be valid as defined by the XHTML
		"transitional" DTD (including all familiar constructs,
		even deprecated ones).
	</li><li> The root element must be "html".
	</li><li> Elements that must be empty (such as <em>&lt;br&gt;</em>
		must have no content.
	</li><li> Use both <em>lang</em> and <em>xml:lang</em> attributes
		when specifying language.
	</li><li> Similarly, use both <em>id</em> and <em>name</em> attributes
		when defining elements that may be referred to through
		URI fragment identifiers ... and make sure that the
		value is a legal NMTOKEN, since not all such HTML 4.0
		identifiers are valid in XML.
	</li><li> Be careful with character encodings; make sure you provide
		a <em>&lt;meta http-equiv="Content-type"
		content="text/xml;charset=..." /&gt;</em> element in
		the HTML "head" element, naming the same encoding
		used to create this handler.  Also, if that encoding
		is anything other than US-ASCII, make sure that if
		the document is given a MIME content type, it has
		a <em>charset=...</em> attribute with that encoding.
	</li></ul>

 <p/> Additionally, some of the oldest browsers have additional
 quirks, to address with guidelines such as: <ul>

	<li> Processing instructions may be rendered, so avoid them.
		(Similarly for an XML declaration.)
	</li><li> Embedded style sheets and scripts should not contain XML
		markup delimiters:  &amp;, &lt;, and ]]&gt; are trouble.
	</li><li> Attribute values should not have line breaks or multiple
		consecutive white space characters.
	</li><li> Use no more than one of the deprecated (transitional)
		<em>&lt;isindex&gt;</em> elements.
	</li><li> Some boolean attributes (such as <em>compact, checked,
		disabled, readonly, selected,</em> and more) confuse
		some browsers, since they only understand minimized
		versions which are illegal in XML.
	</li></ul>

 <p/> Also, some characteristics of the resulting output may be
 a function of whether the document is later given a MIME
 content type of <em>text/html</em> rather than one indicating
 XML (<em>application/xml</em> or <em>text/xml</em>).  Worse,
 some browsers ignore MIME content types and prefer to rely URI
 name suffixes -- so an "index.xml" could always be XML, never
 XHTML, no matter its MIME type.
</div><div><h4>Parameters:</h4><div>value</div></div></div><hr/><a name="skippedEntity(String)"/><div><h3>skippedEntity</h3><p>public void skippedEntity(String name)</p><div><b>SAX1</b>: indicates a non-expanded entity reference </div><div><h4>Specified by:</h4><div>skippedEntity in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>name</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startCDATA()"/><div><h3>startCDATA</h3><p>public final void startCDATA()</p><div><b>SAX2</b>:  called before parsing CDATA characters </div><div><h4>Specified by:</h4><div>startCDATA in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startDTD(String,String,String)"/><div><h3>startDTD</h3><p>public final void startDTD(String name, String publicId, String systemId)</p><div> <b>SAX2</b>:  called when the doctype is partially parsed
 Note that this, like other doctype related calls, is ignored
 when XHTML is in use.
</div><div><h4>Specified by:</h4><div>startDTD in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Parameters:</h4><div>name</div><div>publicId</div><div>systemId</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startDocument()"/><div><h3>startDocument</h3><p>public void startDocument()</p><div> <b>SAX1</b>:  indicates the beginning of a document parse.
 If you're writing (well formed) fragments of XML, neither
 this nor endDocument should be called.
</div><div><h4>Specified by:</h4><div>startDocument in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startElement(String,String,String,org.xml.sax.Attributes)"/><div><h3>startElement</h3><p>public final void startElement(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts)</p><div> <b>SAX2</b>:  indicates the start of an element.
 When XHTML is in use, avoid attribute values with
 line breaks or multiple whitespace characters, since
 not all user agents handle them correctly.
</div><div><h4>Specified by:</h4><div>startElement in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div><div>atts</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startEntity(String)"/><div><h3>startEntity</h3><p>public final void startEntity(String name)</p><div> <b>SAX2</b>:  called before parsing a general entity in content
</div><div><h4>Specified by:</h4><div>startEntity in interface <a href="../../..//org/xml/sax/ext/LexicalHandler.html">LexicalHandler</a></div></div><div><h4>Parameters:</h4><div>name</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="startPrefixMapping(String,String)"/><div><h3>startPrefixMapping</h3><p>public final void startPrefixMapping(String prefix, String uri)</p><div> <b>SAX2</b>:  ignored.
</div><div><h4>Specified by:</h4><div>startPrefixMapping in interface <a href="../../..//org/xml/sax/ContentHandler.html">ContentHandler</a></div></div><div><h4>Parameters:</h4><div>prefix</div><div>uri</div></div></div><hr/><a name="unparsedEntityDecl(String,String,String,String)"/><div><h3>unparsedEntityDecl</h3><p>public final void unparsedEntityDecl(String name, String publicId, String systemId, String notationName)</p><div><b>SAX1</b>:  called on unparsed entity declarations </div><div><h4>Specified by:</h4><div>unparsedEntityDecl in interface <a href="../../..//org/xml/sax/DTDHandler.html">DTDHandler</a></div></div><div><h4>Parameters:</h4><div>name</div><div>publicId</div><div>systemId</div><div>notationName</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="writeElement(String,String,String,org.xml.sax.Attributes,String)"/><div><h3>writeElement</h3><p>public void writeElement(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts, String content)</p><div> Writes an element that has content consisting of a single string.
</div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div><div>atts</div><div>content</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="writeElement(String,String,String,org.xml.sax.Attributes,int)"/><div><h3>writeElement</h3><p>public void writeElement(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts, int content)</p><div> Writes an element that has content consisting of a single integer,
 encoded as a decimal string.
</div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div><div>atts</div><div>content</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="writeEmptyElement(String,String,String,org.xml.sax.Attributes)"/><div><h3>writeEmptyElement</h3><p>public void writeEmptyElement(String uri, String localName, String qName, <a href="../../..//org/xml/sax/Attributes.html">Attributes</a> atts)</p><div> Writes an empty element.
</div><div><h4>Parameters:</h4><div>uri</div><div>localName</div><div>qName</div><div>atts</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><hr/><a name="write(String)"/><div><h3>write</h3><p>public final void write(String data)</p><div> Writes the string as if characters() had been called on the contents
 of the string.  This is particularly useful when applications act as
 producers and write data directly to event consumers.
</div><div><h4>Parameters:</h4><div>data</div></div><div><h4>Throws:</h4><div><a href="../../..//org/xml/sax/SAXException.html">SAXException</a></div></div></div><p> </p><table class="navbar div bottom"><tr><td><div><span class="navbar item enabled"><a href="../../..//index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <a href="../../..//alphaindex.html">Index</a> <a href="../../..//deprecated.html">Deprecated</a> <a href="../../..//help.html">Help</a> <a href="../../..//about.html">About</a></div></td></tr></table></body></html>