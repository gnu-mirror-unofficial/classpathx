<?xml version="1.0" encoding="null"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>MimeUtility (GNU JavaMail API documentation)</title><script src="../../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=null"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="javax.mail.internet.MimeUtility class"/><meta name="keywords" content="getEncoding()"/><meta name="keywords" content="decode()"/><meta name="keywords" content="encode()"/><meta name="keywords" content="encodeText()"/><meta name="keywords" content="decodeText()"/><meta name="keywords" content="encodeWord()"/><meta name="keywords" content="decodeWord()"/><meta name="keywords" content="quote()"/><meta name="keywords" content="javaCharset()"/><meta name="keywords" content="mimeCharset()"/><meta name="keywords" content="getDefaultJavaCharset()"/><link rel="stylesheet" type="text/css" href="../../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="top.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top" colspan="2"><div class="navbar div top" colspan="2"><span class="navbar item enabled"><a href="../../../index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../../about.html">About</a></span></div></td></tr><tr><td class="navi"><a href="../../../javax/mail/internet/MimePartDataSource.html">Prev Class</a> | <a href="../../../javax/mail/internet/NewsAddress.html">Next Class</a></td><td class="navi"><a href="../../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="MimeUtility.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | Field | <a href="#summary-methods">Method</a> | Constr</td><td class="navi">Detail: Nested | Field | <a href="#detail-methods">Method</a> | Constr</td></tr></table><div class="class title outer"><h3 class="class title-package">javax.mail.internet</h3><h1 class="class title-class">Class MimeUtility</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code>java.lang.Object</code></li><ul class="inheritance 1"><li class="inheritance 1"><code>javax.mail.internet.MimeUtility</code></li></ul></ul></div><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public class <b class="class synopsis name">MimeUtility</b></code></div><div class="class synopsis superclass"><code>extends java.lang.Object</code></div></div><hr/><div class="class description"> This is a utility class that provides various MIME related functionality.
 <p/>
 There are a set of methods to encode and decode MIME headers as per 
 RFC 2047. A brief description on handling such headers is given below:
 <p/>
 RFC 822 mail headers must contain only US-ASCII characters. Headers that
 contain non US-ASCII characters must be encoded so that they contain only
 US-ASCII characters. Basically, this process involves using either BASE64 
 or QP to encode certain characters. RFC 2047 describes this in detail.
 <p/>
 In Java, Strings contain(16 bit) Unicode characters. ASCII is a subset of
 Unicode(and occupies the range 0 - 127). A String that contains only ASCII
 characters is already mail-safe. If the String contains non US-ASCII
 characters, it must be encoded. An additional complexity in this step is that
 since Unicode is not yet a widely used charset, one might want to first
 charset-encode the String into another charset and then do the
 transfer-encoding.
 <p/>
 Note that to get the actual bytes of a mail-safe String(say, for sending 
 over SMTP), one must do
 <pre>
byte[] bytes = string.getBytes("iso-8859-1");
</pre><pre>
 The <code>setHeader()</code> and <code>addHeader()</code> methods on
 MimeMessage and MimeBodyPart assume that the given header values are 
 Unicode strings that contain only US-ASCII characters. Hence the callers 
 of those methods must insure that the values they pass do not contain non 
 US-ASCII characters. The methods in this class help do this.
 <p/>
 The <code>getHeader()</code> family of methods on MimeMessage and 
 MimeBodyPart return the raw header value. These might be encoded as per 
 RFC 2047, and if so, must be decoded into Unicode Strings.
 The methods in this class help to do this.
</pre></div><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><a name="summary-methods"/><dl class="table container"><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis">static InputStream</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#decode(InputStream,String)">decode</a>(InputStream&nbsp;is, String&nbsp;encoding)</code></dt><dd class="description"> Decode the given input stream.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#decodeText(String)">decodeText</a>(String&nbsp;etext)</code></dt><dd class="description"> Decode "unstructured" headers, that is, headers that are defined as '*text'
 as per RFC 822.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#decodeWord(String)">decodeWord</a>(String&nbsp;text)</code></dt><dd class="description"> The string is parsed using the rules in RFC 2047 for parsing an
 "encoded-word".</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static OutputStream</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#encode(OutputStream,String)">encode</a>(OutputStream&nbsp;os, String&nbsp;encoding)</code></dt><dd class="description"> Wrap an encoder around the given output stream.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static OutputStream</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#encode(OutputStream,String,String)">encode</a>(OutputStream&nbsp;os, String&nbsp;encoding, String&nbsp;filename)</code></dt><dd class="description"> Wrap an encoder around the given output stream.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#encodeText(String)">encodeText</a>(String&nbsp;text)</code></dt><dd class="description"> Encode a RFC 822 "text" token into mail-safe form as per RFC 2047.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#encodeText(String,String,String)">encodeText</a>(String&nbsp;text, String&nbsp;charset, String&nbsp;encoding)</code></dt><dd class="description"> Encode a RFC 822 "text" token into mail-safe form as per RFC 2047.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#encodeWord(String)">encodeWord</a>(String&nbsp;text)</code></dt><dd class="description"> Encode a RFC 822 "word" token into mail-safe form as per RFC 2047.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#encodeWord(String,String,String)">encodeWord</a>(String&nbsp;text, String&nbsp;charset, String&nbsp;encoding)</code></dt><dd class="description"> Encode a RFC 822 "word" token into mail-safe form as per RFC 2047.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getDefaultJavaCharset()">getDefaultJavaCharset</a>()</code></dt><dd class="description"> Get the default charset corresponding to the system's current default
 locale.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getEncoding(DataHandler)">getEncoding</a>(DataHandler&nbsp;dh)</code></dt><dd class="description"> Same as getEncoding(DataSource) except that instead of reading the data
 from an InputStream it uses the writeTo method to examine the data.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getEncoding(DataSource)">getEncoding</a>(DataSource&nbsp;ds)</code></dt><dd class="description"> Get the content-transfer-encoding that should be applied to the input
 stream of this datasource, to make it mailsafe.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#javaCharset(String)">javaCharset</a>(String&nbsp;charset)</code></dt><dd class="description"> Convert a MIME charset name into a valid Java charset name.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#mimeCharset(String)">mimeCharset</a>(String&nbsp;charset)</code></dt><dd class="description"> Convert a java charset into its MIME charset name.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#quote(String,String)">quote</a>(String&nbsp;text, String&nbsp;specials)</code></dt><dd class="description"> A utility method to quote a word, if the word contains any characters 
 from the specified 'specials' list.</dd></dl></td></tr></table></dl><a name="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="decode(InputStream,String)"/><div class="member detail outer"><h3 class="member detail name">decode</h3><pre class="member detail synopsis">public static InputStream decode(InputStream is,
                                 String encoding)
            throws <a href="../../../javax/mail/MessagingException.html" title="Class in javax.mail">MessagingException</a></pre><blockquote class="member detail name"><div class="member detail description"> Decode the given input stream.
 The Input stream returned is the decoded input stream.
 All the encodings defined in RFC 2045 are supported here.
 They include "base64", "quoted-printable", "7bit", "8bit", and
 "binary". In addition, "uuencode" is also supported.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">is</code><span class="separator"> - </span><span class="description">input stream</span></dd><dd class="item"><code class="name">encoding</code><span class="separator"> - </span><span class="description">the encoding of the stream.</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">decoded input stream.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="decodeText(String)"/><div class="member detail outer"><h3 class="member detail name">decodeText</h3><pre class="member detail synopsis">public static String decodeText(String etext)
            throws UnsupportedEncodingException</pre><blockquote class="member detail name"><div class="member detail description"> Decode "unstructured" headers, that is, headers that are defined as '*text'
 as per RFC 822.
 <p/>
 The string is decoded using the algorithm specified in RFC 2047, Section
 6.1.1. If the charset-conversion fails for any sequence, an
 UnsupportedEncodingException is thrown. If the String is not an RFC 2047
 style encoded header, it is returned as-is
 <p/>
 Example of usage:
 <pre>
MimePart part = ...
String rawvalue = null;
String  value = null;
try {
if ((rawvalue = part.getHeader("X-mailer")[0]) != null)
value = MimeUtility.decodeText(rawvalue);
} catch (UnsupportedEncodingException e) {
// Don't care
value = rawvalue;
} catch (MessagingException me) { }
return value;
</pre><pre>
</pre></div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">etext</code><span class="separator"> - </span><span class="description">the possibly encoded value</span></dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="decodeWord(String)"/><div class="member detail outer"><h3 class="member detail name">decodeWord</h3><pre class="member detail synopsis">public static String decodeWord(String text)
            throws <a href="../../../javax/mail/internet/ParseException.html" title="Class in javax.mail.internet">ParseException</a>,
                   UnsupportedEncodingException</pre><blockquote class="member detail name"><div class="member detail description"> The string is parsed using the rules in RFC 2047 for parsing an
 "encoded-word".
 If the parse fails, a ParseException is thrown. Otherwise, it is 
 transfer-decoded, and then charset-converted into Unicode. If the
 charset-conversion fails, an UnsupportedEncodingException is thrown.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt></dl></p><p class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name"><a href="../../../javax/mail/internet/ParseException.html" title="Class in javax.mail.internet">ParseException</a></code><span class="separator"> - </span><span class="description">if the string is not an encoded-word as per 
RFC 2047.</span></dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="encode(OutputStream,String)"/><div class="member detail outer"><h3 class="member detail name">encode</h3><pre class="member detail synopsis">public static OutputStream encode(OutputStream os,
                                  String encoding)
            throws <a href="../../../javax/mail/MessagingException.html" title="Class in javax.mail">MessagingException</a></pre><blockquote class="member detail name"><div class="member detail description"> Wrap an encoder around the given output stream.
 All the encodings defined in RFC 2045 are supported here.
 They include "base64", "quoted-printable", "7bit", "8bit" and "binary".
 In addition, "uuencode" is also supported.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">os</code><span class="separator"> - </span><span class="description">output stream</span></dd><dd class="item"><code class="name">encoding</code><span class="separator"> - </span><span class="description">the encoding of the stream.</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">output stream that applies the specified encoding.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="encode(OutputStream,String,String)"/><div class="member detail outer"><h3 class="member detail name">encode</h3><pre class="member detail synopsis">public static OutputStream encode(OutputStream os,
                                  String encoding,
                                  String filename)
            throws <a href="../../../javax/mail/MessagingException.html" title="Class in javax.mail">MessagingException</a></pre><blockquote class="member detail name"><div class="member detail description"> Wrap an encoder around the given output stream.
 All the encodings defined in RFC 2045 are supported here.
 They include "base64", "quoted-printable", "7bit", "8bit" and "binary".
 In addition, "uuencode" is also supported. The <code>filename</code>
 parameter is used with the "uuencode" encoding and is included in the 
 encoded output.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">os</code><span class="separator"> - </span><span class="description">output stream</span></dd><dd class="item"><code class="name">encoding</code><span class="separator"> - </span><span class="description">the encoding of the stream.</span></dd><dd class="item"><code class="name">filename</code><span class="separator"> - </span><span class="description">name for the file being encoded(only used with uuencode)</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">output stream that applies the specified encoding.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="encodeText(String)"/><div class="member detail outer"><h3 class="member detail name">encodeText</h3><pre class="member detail synopsis">public static String encodeText(String text)
            throws UnsupportedEncodingException</pre><blockquote class="member detail name"><div class="member detail description"> Encode a RFC 822 "text" token into mail-safe form as per RFC 2047.
 <p/>
 The given Unicode string is examined for non US-ASCII characters. If the
 string contains only US-ASCII characters, it is returned as-is. If the
 string contains non US-ASCII characters, it is first character-encoded
 using the platform's default charset, then transfer-encoded using either
 the B or Q encoding. The resulting bytes are then returned as a Unicode
 string containing only ASCII characters.
 <p/>
 Note that this method should be used to encode only "unstructured" 
 RFC 822 headers.
 <p/>
 Example of usage:
 <pre>
MimePart part = ...
String rawvalue = "FooBar Mailer, Japanese version 1.1"
try {
// If we know for sure that rawvalue contains only US-ASCII
// characters, we can skip the encoding part
part.setHeader("X-mailer", MimeUtility.encodeText(rawvalue));
} catch (UnsupportedEncodingException e) {
// encoding failure
} catch (MessagingException me) {
// setHeader() failure
}
</pre>
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">text</code><span class="separator"> - </span><span class="description">unicode string</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">Unicode string containing only US-ASCII characters</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="encodeText(String,String,String)"/><div class="member detail outer"><h3 class="member detail name">encodeText</h3><pre class="member detail synopsis">public static String encodeText(String text,
                                String charset,
                                String encoding)
            throws UnsupportedEncodingException</pre><blockquote class="member detail name"><div class="member detail description"> Encode a RFC 822 "text" token into mail-safe form as per RFC 2047.
 <p/>
 The given Unicode string is examined for non US-ASCII characters. If the
 string contains only US-ASCII characters, it is returned as-is. If the
 string contains non US-ASCII characters, it is first character-encoded
 using the platform's default charset, then transfer-encoded using either
 the B or Q encoding. The resulting bytes are then returned as a Unicode
 string containing only ASCII characters.
 <p/>
 Note that this method should be used to encode only "unstructured" 
 RFC 822 headers.
 <p/>
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">text</code><span class="separator"> - </span><span class="description">the header value</span></dd><dd class="item"><code class="name">charset</code><span class="separator"> - </span><span class="description">the charset. If this parameter is null, the platform's
default chatset is used.</span></dd><dd class="item"><code class="name">encoding</code><span class="separator"> - </span><span class="description">the encoding to be used. 
Currently supported values are "B" and "Q".
If this parameter is null, then the "Q" encoding is used if most of the
characters to be encoded are in the ASCII charset, otherwise "B"
encoding is used.</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">Unicode string containing only US-ASCII characters</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="encodeWord(String)"/><div class="member detail outer"><h3 class="member detail name">encodeWord</h3><pre class="member detail synopsis">public static String encodeWord(String text)
            throws UnsupportedEncodingException</pre><blockquote class="member detail name"><div class="member detail description"> Encode a RFC 822 "word" token into mail-safe form as per RFC 2047.
 <p/>
 The given Unicode string is examined for non US-ASCII characters.
 If the string contains only US-ASCII characters, it is returned as-is.
 If the string contains non US-ASCII characters, it is first 
 character-encoded using the platform's default charset, then 
 transfer-encoded using either the B or Q encoding.
 The resulting bytes are then returned as a Unicode string containing 
 only ASCII characters.
 <p/>
 This method is meant to be used when creating RFC 822 "phrases". The
 InternetAddress class, for example, uses this to encode it's 'phrase'
 component.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">text</code><span class="separator"> - </span><span class="description">unicode string</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">Unicode string containing only US-ASCII characters.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="encodeWord(String,String,String)"/><div class="member detail outer"><h3 class="member detail name">encodeWord</h3><pre class="member detail synopsis">public static String encodeWord(String text,
                                String charset,
                                String encoding)
            throws UnsupportedEncodingException</pre><blockquote class="member detail name"><div class="member detail description"> Encode a RFC 822 "word" token into mail-safe form as per RFC 2047.
 <p/>
 The given Unicode string is examined for non US-ASCII characters.
 If the string contains only US-ASCII characters, it is returned as-is.
 If the string contains non US-ASCII characters, it is first 
 character-encoded using the platform's default charset, then 
 transfer-encoded using either the B or Q encoding.
 The resulting bytes are then returned as a Unicode string containing 
 only ASCII characters.
 <p/>
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">text</code><span class="separator"> - </span><span class="description">unicode string</span></dd><dd class="item"><code class="name">charset</code><span class="separator"> - </span><span class="description">the MIME charset</span></dd><dd class="item"><code class="name">encoding</code><span class="separator"> - </span><span class="description">the encoding to be used.
Currently supported values are "B" and "Q".
If this parameter is null, then the "Q" encoding is used if most of the
characters to be encoded are in the ASCII charset, otherwise "B"
encoding is used.</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">Unicode string containing only US-ASCII characters</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="getDefaultJavaCharset()"/><div class="member detail outer"><h3 class="member detail name">getDefaultJavaCharset</h3><pre class="member detail synopsis">public static String getDefaultJavaCharset()</pre><blockquote class="member detail name"><div class="member detail description"> Get the default charset corresponding to the system's current default
 locale.
</div><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the default charset of the system's default locale,
as a Java charset.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="getEncoding(DataHandler)"/><div class="member detail outer"><h3 class="member detail name">getEncoding</h3><pre class="member detail synopsis">public static String getEncoding(DataHandler dh)</pre><blockquote class="member detail name"><div class="member detail description"> Same as getEncoding(DataSource) except that instead of reading the data
 from an InputStream it uses the writeTo method to examine the data.
 This is more efficient in the common case of a DataHandler created 
 with an object and a MIME type(for example, a "text/plain" String)
 because all the I/O is done in this thread.
 In the case requiring an InputStream the DataHandler uses a thread,
 a pair of pipe streams, and the writeTo method to produce the data.
</div><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="getEncoding(DataSource)"/><div class="member detail outer"><h3 class="member detail name">getEncoding</h3><pre class="member detail synopsis">public static String getEncoding(DataSource ds)</pre><blockquote class="member detail name"><div class="member detail description"> Get the content-transfer-encoding that should be applied to the input
 stream of this datasource, to make it mailsafe.
 <p/>
 The algorithm used here is:
 <ul>
 <li>If the primary type of this datasource is "text" and if all the bytes
 in its input stream are US-ASCII, then the encoding is "7bit". If more
 than half of the bytes are non-US-ASCII, then the encoding is "base64".
 If less than half of the bytes are non-US-ASCII, then the encoding is
 "quoted-printable".
 </li><li>If the primary type of this datasource is not "text", then if all the
 bytes of its input stream are US-ASCII, the encoding is "7bit". If
 there is even one non-US-ASCII character, the encoding is "base64".
</li></ul></div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">ds</code><span class="separator"> - </span><span class="description">DataSource</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the encoding.
This is either "7bit", "quoted-printable" or "base64"</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="javaCharset(String)"/><div class="member detail outer"><h3 class="member detail name">javaCharset</h3><pre class="member detail synopsis">public static String javaCharset(String charset)</pre><blockquote class="member detail name"><div class="member detail description"> Convert a MIME charset name into a valid Java charset name.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">charset</code><span class="separator"> - </span><span class="description">the MIME charset name</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the Java charset equivalent.
If a suitable mapping is not available, the passed in charset is 
itself returned.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="mimeCharset(String)"/><div class="member detail outer"><h3 class="member detail name">mimeCharset</h3><pre class="member detail synopsis">public static String mimeCharset(String charset)</pre><blockquote class="member detail name"><div class="member detail description"> Convert a java charset into its MIME charset name.
 <p/>
 Note that a future version of JDK(post 1.2) might provide this
 functionality, in which case, we may deprecate this method then.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">charset</code><span class="separator"> - </span><span class="description">the JDK charset</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the MIME/IANA equivalent.
If a mapping is not possible, the passed in charset itself is returned.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="quote(String,String)"/><div class="member detail outer"><h3 class="member detail name">quote</h3><pre class="member detail synopsis">public static String quote(String text,
                           String specials)</pre><blockquote class="member detail name"><div class="member detail description"> A utility method to quote a word, if the word contains any characters 
 from the specified 'specials' list.
 <p/>
 The HeaderTokenizer class defines two special sets of delimiters - 
 MIME and RFC 822.
 <p/>
 This method is typically used during the generation of RFC 822 and MIME
 header fields.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">specials</code><span class="separator"> - </span><span class="description">the set of special characters</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the possibly quoted word</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top" colspan="2"><span class="navbar item enabled"><a href="../../../index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../../alphaindex.html">Index</a></span> <span class="navbar item enabled"><a href="../../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../../about.html">About</a></span></div></td></tr></table></body></html>