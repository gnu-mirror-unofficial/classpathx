<html xmlns="http://www.w3.org/TR/REC-html40" xmlns:html="http://www.w3.org/TR/REC-html40" xmlns:gjdoc="http://www.gnu.org/software/cp-tools/gjdocxml"><head><link href="../../gjdochtml.css" type="text/css" rel="stylesheet"/><title>Service</title></head><body onload="top.document.title=document.title;" class="classdoc"><div class="header"><span class="navi-button">&rArr;&nbsp;<a target="_top" href="../../index.html">Index&nbsp;(Frames)</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a target="_top" href="../../index_noframes.html">Index&nbsp;(No&nbsp;Frames)</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a href="package-summary.html">Package</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a href="package-tree.html">Package&nbsp;Tree</a></span>&nbsp;|&nbsp;
      <span class="navi-button">&rArr;&nbsp;<a href="../../fulltree.html">Full Tree</a></span>&nbsp;
    </div><div class="classdoc-head"><div class="classdoc-head-inner"><b class="classdoc-head-packagename">javax.mail</b><br/><h1 class="classdoc-head-classname">Class Service</h1></div></div><pre class="inheritance-tree">java.lang.Object
|
+--javax.mail.Service
</pre><p/><b>Known Direct Subclasses:</b><br/><a href="../../javax/mail/Store.html">Store</a>, <a href="../../javax/mail/Transport.html">Transport</a><hr/><div class="classdoc-prototype">public abstract class <b>Service</b><br/>extends java.lang.Object<br/></div><p/><div class="classdoc-class-comment-body"> An abstract class that contains the functionality common to messaging 
 services, such as stores and transports.
 <p/>
 A messaging service is created from a Session and is named using a URLName.
 A service must be connected before it can be used.
 Connection events are sent to reflect its connection status.
</div><div class="classdoc-tag-section-header">Author:</div><dl class="classdoc-list"><dt/></dl><h1 class="classdoc-header">Field Summary</h1><table class="classdoc-table" width="100%" cellspacing="0" border="1"><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type">boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#debug">debug</a></p><blockquote class="classdoc-summary-comment"> Debug flag for this service.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"><a href="../../javax/mail/Session.html">Session</a></p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#session">session</a></p><blockquote class="classdoc-summary-comment"> The session from which this service was created.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"><a href="../../javax/mail/URLName.html">URLName</a></p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#url">url</a></p><blockquote class="classdoc-summary-comment"> The URLName of this service.</blockquote></td></tr></table><h1 class="classdoc-header">Constructor Summary</h1><table class="classdoc-table" width="100%" cellspacing="0" border="1"><tr><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#Service(javax.mail.Session,javax.mail.URLName)">Service</a>(<span class="parameter"><a href="../../javax/mail/Session.html">Session</a>&nbsp;session,</span> <span class="parameter"><a href="../../javax/mail/URLName.html">URLName</a>&nbsp;url</span>)</p><blockquote class="classdoc-summary-comment"> Constructor.</blockquote></td></tr></table><h1 class="classdoc-header">Method Summary</h1><table class="classdoc-table" width="100%" cellspacing="0" border="1"><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#addConnectionListener(javax.mail.event.ConnectionListener)">addConnectionListener</a>(<span class="parameter"><a href="../../javax/mail/event/ConnectionListener.html">ConnectionListener</a>&nbsp;l</span>)</p><blockquote class="classdoc-summary-comment"> Add a listener for Connection events on this service.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type">synchronized  void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#close()">close</a>()</p><blockquote class="classdoc-summary-comment"> Close this service and terminate its connection.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#connect()">connect</a>()</p><blockquote class="classdoc-summary-comment"> A generic connect method that takes no parameters.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#connect(String,String,String)">connect</a>(<span class="parameter">String&nbsp;host,</span> <span class="parameter">String&nbsp;user,</span> <span class="parameter">String&nbsp;password</span>)</p><blockquote class="classdoc-summary-comment"> Connect to the specified address.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#connect(String,int,String,String)">connect</a>(<span class="parameter">String&nbsp;host,</span> <span class="parameter">int&nbsp;port,</span> <span class="parameter">String&nbsp;user,</span> <span class="parameter">String&nbsp;password</span>)</p><blockquote class="classdoc-summary-comment"> Similar to connect(host, user, password) except a specific port can be
 specified.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> <a href="../../javax/mail/URLName.html">URLName</a></p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#getURLName()">getURLName</a>()</p><blockquote class="classdoc-summary-comment"> Return a URLName representing this service.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#isConnected()">isConnected</a>()</p><blockquote class="classdoc-summary-comment"> Is this service currently connected?
 
 This implementation uses a private boolean field to store the connection
 state.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#notifyConnectionListeners(int)">notifyConnectionListeners</a>(<span class="parameter">int&nbsp;type</span>)</p><blockquote class="classdoc-summary-comment"> Notify all ConnectionListeners.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> boolean</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#protocolConnect(String,int,String,String)">protocolConnect</a>(<span class="parameter">String&nbsp;host,</span> <span class="parameter">int&nbsp;port,</span> <span class="parameter">String&nbsp;user,</span> <span class="parameter">String&nbsp;password</span>)</p><blockquote class="classdoc-summary-comment"> The service implementation should override this method to perform the
 actual protocol-specific connection attempt.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#removeConnectionListener(javax.mail.event.ConnectionListener)">removeConnectionListener</a>(<span class="parameter"><a href="../../javax/mail/event/ConnectionListener.html">ConnectionListener</a>&nbsp;l</span>)</p><blockquote class="classdoc-summary-comment"> Remove a Connection event listener.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setConnected(boolean)">setConnected</a>(<span class="parameter">boolean&nbsp;connected</span>)</p><blockquote class="classdoc-summary-comment"> Set the connection state of this service.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> void</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#setURLName(javax.mail.URLName)">setURLName</a>(<span class="parameter"><a href="../../javax/mail/URLName.html">URLName</a>&nbsp;url</span>)</p><blockquote class="classdoc-summary-comment"> Set the URLName representing this service.</blockquote></td></tr><tr><td class="no-border-r" valign="top" align="right" width="1%"><p class="prototype-type"> String</p></td><td class="with-border" valign="top" align="left"><p class="prototype"><a href="#toString()">toString</a>()</p><blockquote class="classdoc-summary-comment"> Return getURLName.toString() if this service has a URLName,
 otherwise it will return the default toString.</blockquote></td></tr></table><h1 class="classdoc-header">Field Details</h1><a name="debug"/><h3>debug</h3><p class="prototype">protected boolean <b>debug</b></p><p/><div class="classdoc-comment-body"> Debug flag for this service.
 Set from the session's debug flag when this service is created.
</div><p/><hr/><a name="session"/><h3>session</h3><p class="prototype">protected Session <b>session</b></p><p/><div class="classdoc-comment-body"> The session from which this service was created.
</div><p/><hr/><a name="url"/><h3>url</h3><p class="prototype">protected URLName <b>url</b></p><p/><div class="classdoc-comment-body"> The URLName of this service.
</div><p/><h1 class="classdoc-header">Constructor Details</h1><a name="Service(javax.mail.Session,javax.mail.URLName)"/><h3>Service</h3><p class="prototype">protected  <b>Service</b>(<span class="parameter"><a href="../../javax/mail/Session.html">Session</a>&nbsp;session,</span> <span class="parameter"><a href="../../javax/mail/URLName.html">URLName</a>&nbsp;url</span>)</p><div class="classdoc-comment-body"> Constructor.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">session</span> - Session object for this service</dt><dt><span class="prototype-name">url</span> - URLName object to be used for this service</dt></dl><h1 class="classdoc-header">Method Details</h1><a name="addConnectionListener(javax.mail.event.ConnectionListener)"/><h3>addConnectionListener</h3><p class="prototype">public void <b>addConnectionListener</b>(<span class="parameter"><a href="../../javax/mail/event/ConnectionListener.html">ConnectionListener</a>&nbsp;l</span>)</p><div class="classdoc-comment-body"> Add a listener for Connection events on this service.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">l</span></dt></dl><hr/><a name="close()"/><h3>close</h3><p class="prototype">public synchronized void <b>close</b>()</p><div class="classdoc-comment-body"> Close this service and terminate its connection.
 A close ConnectionEvent is delivered to any ConnectionListeners.
 Any Messaging components (Folders, Messages, etc.) belonging to 
 this service are invalid after this service is closed. Note that 
 the service is closed even if this method terminates abnormally 
 by throwing a MessagingException.
 <p/>
 This implementation uses <code>setConnected(false)</code> to set 
 this service's connected state to false. It will then send a close 
 ConnectionEvent to any registered ConnectionListeners. Subclasses 
 overriding this method to do implementation specific cleanup should 
 call this method as a last step to insure event notification, 
 probably by including a call to <code>super.close()</code> in
 a finally clause.
</div><p/><hr/><a name="connect()"/><h3>connect</h3><p class="prototype">public void <b>connect</b>()</p><div class="classdoc-comment-body"> A generic connect method that takes no parameters. 
 Subclasses can implement the appropriate authentication schemes. 
 Subclasses that need additional information might want to use 
 some properties or might get it interactively using a popup window.
 <p/>
 If the connection is successful, an "open" ConnectionEvent is delivered 
 to any ConnectionListeners on this service.
 <p/>
 Most clients should just call this method to connect to the service.
 <p/>
 It is an error to connect to an already connected service.
 <p/>
 The implementation provided here simply calls the following 
 <code>connect(String, String, String)</code> method with nulls.
</div><p/><div class="classdoc-tag-section-header">Throws:</div><dl class="classdoc-list"><dt><code><a href="../../javax/mail/AuthenticationFailedException.html">AuthenticationFailedException</a></code> - for authentication failures</dt><dt><code><a href="../../javax/mail/MessagingException.html">MessagingException</a></code> - for other failures</dt><dt><code/> - if the service is already connected</dt></dl><hr/><a name="connect(String,int,String,String)"/><h3>connect</h3><p class="prototype">public void <b>connect</b>(<span class="parameter">String&nbsp;host,</span> <span class="parameter">int&nbsp;port,</span> <span class="parameter">String&nbsp;user,</span> <span class="parameter">String&nbsp;password</span>)</p><div class="classdoc-comment-body"> Similar to connect(host, user, password) except a specific port can be
 specified.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">host</span> - the host to connect to</dt><dt><span class="prototype-name">port</span> - the port to use (-1 means use default port)</dt><dt><span class="prototype-name">user</span> - the user name</dt><dt><span class="prototype-name">password</span> - this user's password</dt></dl><div class="classdoc-tag-section-header">Throws:</div><dl class="classdoc-list"><dt><code><a href="../../javax/mail/AuthenticationFailedException.html">AuthenticationFailedException</a></code> - for authentication failures</dt><dt><code><a href="../../javax/mail/MessagingException.html">MessagingException</a></code> - for other failures</dt><dt><code/> - if the service is already connected</dt></dl><hr/><a name="connect(String,String,String)"/><h3>connect</h3><p class="prototype">public void <b>connect</b>(<span class="parameter">String&nbsp;host,</span> <span class="parameter">String&nbsp;user,</span> <span class="parameter">String&nbsp;password</span>)</p><div class="classdoc-comment-body"> Connect to the specified address. 
 This method provides a simple authentication scheme 
 that requires a username and password.
 <p/>
 If the connection is successful, an "open" ConnectionEvent is delivered 
 to any ConnectionListeners on this service.
 <p/>
 It is an error to connect to an already connected service.
 <p/>
 The implementation in the Service class will collect defaults for the 
 host, user, and password from the session, from the URLName for this 
 service, and from the supplied parameters and then call the 
 <code>protocolConnect</code> method. If the <code>protocolConnect</code>
 method returns false, the user will be prompted for any missing 
 information and the <code>protocolConnect</code> method will be called 
 again. The subclass should override the <code>protocolConnect</code>
 method. The subclass should also implement the <code>getURLName</code>
 method, or use the implementation in this class.
 <p/>
 On a successful connection, the <code>setURLName</code> method is called 
 with a URLName that includes the information used to make the connection,
 including the password.
 <p/>
 If the password passed in is null and this is the first successful
 connection to this service, the user name and the password collected from
 the user will be saved as defaults for subsequent connection attempts to
 this same service when using other Service object instances (the 
 connection information is typically always saved within a particular 
 Service object instance). The password is saved using the Session method
 <code>setPasswordAuthenticaiton</code>. If the password passed in is not 
 null, it is not saved, on the assumption that the application is managing 
 passwords explicitly.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">host</span> - the host to connect to</dt><dt><span class="prototype-name">user</span> - the user name</dt><dt><span class="prototype-name">password</span> - this user's password</dt></dl><div class="classdoc-tag-section-header">Throws:</div><dl class="classdoc-list"><dt><code><a href="../../javax/mail/AuthenticationFailedException.html">AuthenticationFailedException</a></code> - for authentication failures</dt><dt><code><a href="../../javax/mail/MessagingException.html">MessagingException</a></code> - for other failures</dt><dt><code/> - if the service is already connected</dt></dl><hr/><a name="getURLName()"/><h3>getURLName</h3><p class="prototype">public URLName <b>getURLName</b>()</p><div class="classdoc-comment-body"> Return a URLName representing this service.
 The returned URLName does not include the password field.
 <p/>
 Subclasses should only override this method if their URLName does not
 follow the standard format.
 <p/>
 The implementation in the Service class returns (usually a copy of)
 the url field with the password and file information stripped out.
</div><p/><hr/><a name="isConnected()"/><h3>isConnected</h3><p class="prototype">public boolean <b>isConnected</b>()</p><div class="classdoc-comment-body"> Is this service currently connected?
 <p/>
 This implementation uses a private boolean field to store the connection
 state. This method returns the value of that field.
 <p/>
 Subclasses may want to override this method to verify that any connection
 to the message store is still alive.
</div><p/><hr/><a name="notifyConnectionListeners(int)"/><h3>notifyConnectionListeners</h3><p class="prototype">protected void <b>notifyConnectionListeners</b>(<span class="parameter">int&nbsp;type</span>)</p><div class="classdoc-comment-body"> Notify all ConnectionListeners. 
 Service implementations are expected to use this method 
 to broadcast connection events.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">type</span></dt></dl><hr/><a name="protocolConnect(String,int,String,String)"/><h3>protocolConnect</h3><p class="prototype">protected boolean <b>protocolConnect</b>(<span class="parameter">String&nbsp;host,</span> <span class="parameter">int&nbsp;port,</span> <span class="parameter">String&nbsp;user,</span> <span class="parameter">String&nbsp;password</span>)</p><div class="classdoc-comment-body"> The service implementation should override this method to perform the
 actual protocol-specific connection attempt. 
 The default implementation of the <code>connect</code> method calls 
 this method as needed.
 <p/>
 The <code>protocolConnect</code> method should return false if a user 
 name or password is required for authentication but the corresponding 
 parameter is null; the connect method will prompt the user when needed 
 to supply missing information. This method may also return false if 
 authentication fails for the supplied user name or password. 
 Alternatively, this method may throw an AuthenticationFailedException 
 when authentication fails. This exception may include a String message 
 with more detail about the failure.
 <p/>
 The <code>protocolConnect</code> method should throw an exception to 
 report failures not related to authentication, such as an invalid host 
 name or port number, loss of a connection during the authentication 
 process, unavailability of the server, etc.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">host</span> - the name of the host to connect to</dt><dt><span class="prototype-name">port</span> - the port to use (-1 means use default port)</dt><dt><span class="prototype-name">user</span> - the name of the user to login as</dt><dt><span class="prototype-name">password</span> - the user's password</dt></dl><div class="classdoc-tag-section-header">Returns:</div><dl class="classdoc-list"><dt>true if connection successful, false if authentication failed</dt></dl><div class="classdoc-tag-section-header">Throws:</div><dl class="classdoc-list"><dt><code><a href="../../javax/mail/AuthenticationFailedException.html">AuthenticationFailedException</a></code> - for authentication failures</dt><dt><code><a href="../../javax/mail/MessagingException.html">MessagingException</a></code> - for non-authentication failures</dt></dl><hr/><a name="removeConnectionListener(javax.mail.event.ConnectionListener)"/><h3>removeConnectionListener</h3><p class="prototype">public void <b>removeConnectionListener</b>(<span class="parameter"><a href="../../javax/mail/event/ConnectionListener.html">ConnectionListener</a>&nbsp;l</span>)</p><div class="classdoc-comment-body"> Remove a Connection event listener.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">l</span></dt></dl><hr/><a name="setConnected(boolean)"/><h3>setConnected</h3><p class="prototype">protected void <b>setConnected</b>(<span class="parameter">boolean&nbsp;connected</span>)</p><div class="classdoc-comment-body"> Set the connection state of this service.
 The connection state will automatically be set by the service 
 implementation during the connect and close methods.
 Subclasses will need to call this method to set the state if
 the service was automatically disconnected.
 <p/>
 The implementation in this class merely sets the private field 
 returned by the <code>isConnected</code> method.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">connected</span></dt></dl><hr/><a name="setURLName(javax.mail.URLName)"/><h3>setURLName</h3><p class="prototype">protected void <b>setURLName</b>(<span class="parameter"><a href="../../javax/mail/URLName.html">URLName</a>&nbsp;url</span>)</p><div class="classdoc-comment-body"> Set the URLName representing this service.
 Normally used to update the url field after a service has 
 successfully connected.
 <p/>
 Subclasses should only override this method if their URL does not 
 follow the standard format. In particular, subclasses should override 
 this method if their URL does not require all the possible fields 
 supported by URLName; a new URLName should be constructed with any 
 unneeded fields removed.
 <p/>
 The implementation in the Service class simply sets the url field.
</div><p/><div class="classdoc-tag-section-header">Parameters:</div><dl class="classdoc-list"><dt><span class="prototype-name">url</span></dt></dl><hr/><a name="toString()"/><h3>toString</h3><p class="prototype">public String <b>toString</b>()</p><div class="classdoc-comment-body"> Return getURLName.toString() if this service has a URLName,
 otherwise it will return the default toString.
</div><p/><hr class="footer"/><div class="footer">Generated on
  October 6, 2004
  by <a target="cptoolsinfo" href="http://www.gnu.org/software/cp-tools">GNU Classpath Tools</a> (Gjdoc XmlDoclet 0.6.1).</div></body></html>